(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(420)}])},420:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return C}});var n,i,o=a(2670),s=a(1799),r=a(9396),c=a(9534),d=a(797),l=a(5893),h=a(7294),p=a(8855),m=a(273),u=a.n(m),f=a(5152),_=a.n(f),j=a(7163),x=a(5110),g=a(1752),y=a.n(g),w=a(5675),b=a.n(w),N=a(5408),v=a.n(N),S=_()(function(){return Promise.all([a.e(960),a.e(660)]).then(a.bind(a,8660))},{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}),T="https://github.com/neighbor-ryan/nj-crashes",Z=[],J=Z.concat.apply(Z,(0,d.Z)(["m","y"].map(function(e){return(i=Z).concat.apply(i,(0,d.Z)(["s","c"].map(function(t){return(n=Z).concat.apply(n,(0,d.Z)(["i","p","d"].map(function(a){var n="".concat(a).concat(t).concat(e),i="njdot/".concat(n),o={s:"State",c:"County"}[t],s={y:"Year",m:"Month"}[e],r="".concat({s:"State",c:"Counties"}[t]," x ").concat(s,"s"),c={i:"Injuries",p:"Property Damage Crashes",d:"Deaths"}[a],d="State"==o?"".concat(c," per ").concat(s," (Statewide)"):"".concat(c," per {").concat(o,", ").concat(s,"}");return"dcm"==n&&(d+=" (12mo avgs)"),{id:n,name:i,title:d,menuName:({i:"Injuries",p:"Property Damage",d:"Deaths"})[a],dropdownSection:r,style:"County"==o&&{height:580}}})))})))}))),D=[{id:"per-year",name:"fatalities_per_year_by_type",title:"NJ Traffic Deaths per Year",menuName:"Traffic Deaths / Year",dropdownSection:"NJSP",children:function(e){var t=e.rundate,a=e.projectedTotals,n=a["2021"]["Projected Total"],i=a["2022"]["Projected Total"],o=new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:["2021 was the worst year in the NJSP dataset (since 2008), with ",n," deaths."]}),(0,l.jsxs)("p",{children:[(0,l.jsxs)(j.Z,{href:"".concat(T,"/commits/main"),children:["As of ",o]}),", 2022 is on pace ",i>n?"to exceed it, with":"for"," ",i,"."]}),(0,l.jsx)("p",{children:"Victim types have been published since 2020."})]})}},{id:"vs-homicides",name:"crash_homicide_cmp",title:"NJ Traffic Deaths vs. Homicides",menuName:"Traffic Deaths vs. Homicides",dropdownSection:"NJSP",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"Traffic crashes kill 1.5-2x as many people as homicides in NJ."}),(0,l.jsxs)("p",{children:["Homicide data comes from ",(0,l.jsx)(j.Z,{href:"https://nj.gov/njsp/ucr/uniform-crime-reports.shtml",children:"NJ State Police"})," and ",(0,l.jsx)(j.Z,{href:"https://www.disastercenter.com/crime/njcrimn.htm",children:"Disaster Center"}),"."]})]})},{id:"per-month",name:"fatalities_per_month",title:"NJ Traffic Deaths per Month",menuName:"Traffic Deaths / Month",dropdownSection:"NJSP"},{id:"per-month-type",name:"fatalities_per_month_by_type",title:"NJ Traffic Deaths per Month (by Victim Type)",menuName:"By Victim Type",dropdownSection:"NJSP"},{id:"by-month-bars",name:"fatalities_by_month_bars",title:"NJ Traffic Deaths, grouped by month",menuName:"Grouped by Month",dropdownSection:"NJSP"},].concat((0,d.Z)(J));function P(e){var t=e.id,a=e.title,n=e.subtitle,i=e.plot,d=e.basePath,p=e.rundate,m=e.src,f=e.children,_=e.projectedTotals,j=(0,h.useState)(!1),x=j[0],g=j[1],y=i.data,w=i.layout,N=w.title,T=(w.margin,w.xaxis),Z=w.yaxis,J=i.style,D=(0,c.Z)(i.layout,["title","margin","xaxis","yaxis"]),P="string"==typeof N?N:null==N?void 0:N.text,H=(0,o.Z)(n,Function)?n({title:P,projectedTotals:_,rundate:p}):n,C=(0,o.Z)(f,Function)?f({title:P,projectedTotals:_,rundate:p}):f,k=(null==J?void 0:J.height)||450;return(0,l.jsxs)("div",{id:t,className:u()["plot-body"],children:[(0,l.jsx)("h2",{children:(0,l.jsx)("a",{href:"#".concat(t),children:a})}),H,(0,l.jsx)(S,{onInitialized:function(){console.log("plot ".concat(t," initialized")),g(!0)},className:u().plot,data:y,layout:(0,s.Z)((0,r.Z)((0,s.Z)({margin:{t:0,r:25,b:30,l:0}},T?{xaxis:T}:{}),{yaxis:Z,autosize:!0,dragmode:!1}),D),config:{displayModeBar:!1,scrollZoom:!1},style:(0,r.Z)((0,s.Z)({},J),{display:x?"":"none",width:"100%"})}),m&&(0,l.jsxs)("div",{className:"".concat(v().fallback," ").concat(x?v().hidden:""),style:{height:"".concat(k,"px"),maxHeight:"".concat(k,"px")},children:[(0,l.jsx)(b(),{src:"".concat(d,"/").concat(m),width:800,height:k,loading:"lazy"}),(0,l.jsx)("div",{className:v().spinner})]}),C]},t)}var H=function(e){var t=e.plotsDict,a=e.projectedTotals,n=e.rundate,i=y()().publicRuntimeConfig.basePath,o=void 0===i?"":i,d=D.map(function(e){var a=e.name,n=e.src,i=(0,c.Z)(e,["name","src"]),o=t[a],r=o.title,d=o.plot;return(0,s.Z)({name:a,src:n||"plots/".concat(a,".png"),title:r,plot:d},i)}),m=d.map(function(e){var t,a=e.id,n=e.title;return{id:a,name:e.menuName||n,dropdownSection:e.dropdownSection}}),f=[{id:"NJSP",name:"NJSP"},{id:"state-months",name:"State x Months"},{id:"county-months",name:"Counties x Months"},{id:"state-years",name:"State x Years"},{id:"county-years",name:"Counties x Years"},].map(function(e){return(0,r.Z)((0,s.Z)({},e),{sections:m.filter(function(t){t.name;var a=t.dropdownSection;return e.name==a})})}),_="NJ Traffic Crash Data",g="https://neighbor-ryan.org/nj-crashes";return(0,l.jsxs)("div",{className:u().container,children:[(0,l.jsx)(p.F,{title:_,description:"Analysis & Visualization of traffic crash data published by NJ State Police and NJ DOT",url:g,thumbnail:"".concat(g,"/fatalities_per_year_by_type.png")}),(0,l.jsx)(x.J,{id:"nav",classes:"collapsed",menus:f,hover:!1,children:(0,l.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"})}),(0,l.jsxs)("main",{className:u().main,children:[(0,l.jsx)("h1",{className:v().title,children:_}),(0,l.jsxs)("p",{children:["The NJ State Police ",(0,l.jsx)(j.Z,{title:"NJ State Police fatal crash data",href:"https://nj.gov/njsp/info/fatalacc/",children:"publish fatal crash data"})," going back to 2008. ","It's usually current to the previous day, though things also show up weeks or months after the fact. The first 5 plots below are from that data."]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("a",{href:"#njdot",children:"Below that"})," is some analysis of ",(0,l.jsx)(j.Z,{title:"NJ DOT raw crash data",href:"https://www.state.nj.us/transportation/refdata/accident/rawdata01-current.shtm",children:"NJ DOT raw crash data"}),", which includes injury and property-damage crashes going back to 2001 (≈6MM records). ","It's released in annual tranches, ≈15mos after each year end (i.e. 2021 data should arrive in early 2023)."]}),(0,l.jsx)("p",{children:'Tap plots to see specific values, single- or double-tap legend entries to toggle or "solo" them.'}),(0,l.jsxs)("p",{children:["Code and cleaned data are on GitHub ",(0,l.jsx)(j.Z,{href:T,children:"here"}),"."]}),d.map(function(e,t){var i=e.id,d=(0,c.Z)(e,["id"]);return(0,l.jsxs)(h.Fragment,{children:[t==f[0].sections.length&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{id:"njdot",children:(0,l.jsx)("a",{href:"#njdot",children:"NJ DOT Raw Crash Data"})}),(0,l.jsxs)("p",{children:["NJ DOT ",(0,l.jsx)(j.Z,{title:"NJ DOT raw crash data",href:"https://www.state.nj.us/transportation/refdata/accident/rawdata01-current.shtm",children:"publishes raw crash data"}),", including injury and property-damage crashes, going back to 2001 (≈6MM records)."]}),(0,l.jsx)("p",{children:"It generally shows a downward trend over the last few decades, which is good, though it ends at 2020, just before we regressed by 10-15yrs (based on the NJSP data above). 2021 data should land in early 2023."})]}),(0,l.jsxs)("div",{className:u()["plot-container"],children:[(0,l.jsx)(P,(0,r.Z)((0,s.Z)({id:i,basePath:o,rundate:n},d),{projectedTotals:a})),(0,l.jsx)("hr",{})]},i)]},i)}),(0,l.jsxs)("p",{children:["Check out the code and data (or ",(0,l.jsx)(j.Z,{href:"".concat(T,"/issues/new"),children:"leave some feedback"}),") ",(0,l.jsx)(j.Z,{href:T,children:"on GitHub"}),"."]}),(0,l.jsxs)("p",{children:[(0,l.jsx)(j.Z,{title:"Source code and documentation on GitHub",href:T,children:(0,l.jsx)("img",{alt:"GitHub Logo",className:v().logo,src:"".concat(o,"/gh.png")})})," ",(0,l.jsx)(j.Z,{title:"NJ State Police fatal crash data",href:"https://nj.gov/njsp/info/fatalacc/",children:(0,l.jsx)("img",{alt:"NJSP Logo",className:v().logo,src:"".concat(o,"/njsp.png")})})," ",(0,l.jsx)(j.Z,{title:"NJ DOT raw crash data",href:"https://www.state.nj.us/transportation/refdata/accident/rawdata01-current.shtm",children:(0,l.jsx)("img",{alt:"NJ DOT Logo",className:v().logo,src:"".concat(o,"/njdot-s.png")})})]})]})]})},C=!0;t.default=H},1342:function(){},2615:function(){},5408:function(e){e.exports={title:"index_title__RIjyU",logo:"index_logo__P5AxI",fallback:"index_fallback__r2U6p",spinner:"index_spinner__XEnGB",spin:"index_spin__g0eKH",plotContainer:"index_plotContainer__n7DCR",invisible:"index_invisible__GQyqY",hidden:"index_hidden__ihuWw"}},273:function(e){e.exports={container:"Home_container__bCOhY","plot-container":"Home_plot-container__XDqZy","plot-body":"Home_plot-body__2ghCx",plot:"Home_plot___35eL",menu:"Home_menu__2ncGe",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[741,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);