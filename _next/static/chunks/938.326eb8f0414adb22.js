(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{58588:function(t,e,n){t.exports=n(13035)},62400:function(t,e,n){"use strict";var r,u;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(u=n.g.process)?void 0:u.env)?n.g.process:n(36443)},59938:function(t,e,n){"use strict";n.r(e),n.d(e,{DefaultDbPath:function(){return m},DefaultQuery:function(){return g},Input:function(){return v},QueryKey:function(){return p},UrlKey:function(){return h},default:function(){return b}});var r=n(11527),u=n(50959),o=n(8699),c=n(84334),i=n.n(c),l=n(68325),s=n(23007),a=n(56164);function f(t){let{result:e}=t;return e&&(0,a.g_)(t=>(0,r.jsxs)("div",{className:i().sqlError,children:[(0,r.jsx)("h2",{children:"Error"}),(0,r.jsx)("pre",{children:t.message})]}),t=>(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:(null==t?void 0:t.length)?(0,s.XP)(t[0]).map((t,e)=>(0,r.jsx)("th",{children:t},e)):null})}),(0,r.jsx)("tbody",{children:null==t?void 0:t.map((t,e)=>(0,r.jsx)("tr",{children:(0,s.VO)(t).map((t,e)=>(0,r.jsx)("td",{children:t},e))},e))})]}))(e)}var d=n(41796);let h="sql-db-url",p="sql-query";function v(t){let{label:e,defaultValue:n,buttons:o,...c}=t,[l,s]=(0,u.useState)(n);(0,u.useEffect)(()=>{s(n)},[n]);let[a,f]=(0,u.useState)(null),d=(0,u.createRef)();return(0,u.useEffect)(()=>{d.current&&(console.log("set initial scrollHeight"),f(d.current.scrollHeight))},[d.current]),(0,r.jsxs)("div",{className:i().control,children:[(0,r.jsxs)("label",{children:[e,(0,r.jsx)("textarea",{ref:d,style:a?{height:"".concat(a,"px")}:{},value:l,onInput:t=>{f(t.target.scrollHeight)},onChange:t=>s(t.target.value),onKeyDown:t=>{"Enter"===t.code&&t.shiftKey&&(t.preventDefault(),o[0].cb(l))},...c})]}),o.map(t=>{let{value:e,cb:n}=t;return(0,r.jsx)("input",{type:"button",value:e,className:i().updateButton,onClick:()=>{n(l)}},e)})]})}let m=(0,d.mB)().crashes,g="select * from crashes where id=100000";function b(){let[t,e]=(0,o.Z)(h,{defaultValue:"".concat(m)}),[n,c]=(0,o.Z)(p,{defaultValue:g}),[i,s]=(0,u.useState)(65536),[a,d]=(0,u.useState)(null),b=null;try{b=(0,l.o8)({url:t,requestChunkSize:i,setResult:d})}catch(t){console.error("Caught error:",t)}return(0,r.jsxs)("div",{children:[(0,r.jsx)(v,{label:"DB URL:",buttons:[{value:"Update",cb:t=>{console.log("Updating URL:",t),e(t)}}],defaultValue:t}),(0,r.jsx)(v,{label:"Query:",buttons:[{value:"Run",cb:t=>{if(c(t),b){let e=t.split(";\n\n");e.length>1?(console.log("Running ".concat(e.length," queries")),e.reduce((t,e)=>b&&t?t.then(()=>{var t;return console.log("Running query:",e),b&&(null!==(t=b(e))&&void 0!==t?t:Promise.resolve())}):null,Promise.resolve())):(console.log("Running query:",t),b(t))}}},{value:"Explain",cb:t=>{c(t);let e="explain query plan ".concat(t);console.log("Running query:",e),b&&b(e)}}],defaultValue:n}),(0,r.jsx)(f,{result:a})]})}},41796:function(t,e,n){"use strict";n.d(e,{Iv:function(){return c},jy:function(){return o},mB:function(){return i}});var r=n(21358),u=n(62400);let o="https://nj.gov/njsp/info/fatalacc/",c="https://www.state.nj.us/transportation/refdata/accident/rawdata01-current.shtm";function i(){let t=u.env.S3_DBS?"https://nj-crashes.s3.amazonaws.com/njdot/data":"".concat((0,r.b)(),"/njdot");return{crashes:"".concat(t,"/crashes.db"),occupants:"".concat(t,"/occupants.db"),pedestrians:"".concat(t,"/pedestrians.db"),vehicles:"".concat(t,"/vehicles.db"),drivers:"".concat(t,"/drivers.db"),cmym:"".concat(t,"/cmym.db"),cmymc:"".concat(t,"/cmymc.db")}}},84334:function(t){t.exports={control:"sql-repl_control__baLnI"}},36443:function(t){!function(){var e={229:function(t){var e,n,r,u=t.exports={};function o(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function i(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(t){n=c}}();var l=[],s=!1,a=-1;function f(){s&&r&&(s=!1,r.length?l=r.concat(l):a=-1,l.length&&d())}function d(){if(!s){var t=i(f);s=!0;for(var e=l.length;e;){for(r=l,l=[];++a<e;)r&&r[a].run();a=-1,e=l.length}r=null,s=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}u.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||s||i(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=p,u.addListener=p,u.once=p,u.off=p,u.removeListener=p,u.removeAllListeners=p,u.emit=p,u.prependListener=p,u.prependOnceListener=p,u.listeners=function(t){return[]},u.binding=function(t){throw Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw Error("process.chdir is not supported")},u.umask=function(){return 0}}},n={};function r(t){var u=n[t];if(void 0!==u)return u.exports;var o=n[t]={exports:{}},c=!0;try{e[t](o,o.exports,r),c=!1}finally{c&&delete n[t]}return o.exports}r.ab="//";var u=r(229);t.exports=u}()},23007:function(t,e,n){"use strict";function r(t,e){return c(t).map(([t,n],r)=>e(t,n,r))}function u(t){return Object.keys(t)}function o(t){return Object.values(t)}function c(t){return Object.entries(t)}function i(t){return Object.fromEntries(t)}function l(t,e){return i(c(t).map(([t,n],r)=>e(t,n,r)))}n.d(e,{V7:function(){return l},VO:function(){return o},XP:function(){return u},_I:function(){return r},sq:function(){return i}})},21358:function(t,e,n){"use strict";n.d(e,{b:function(){return o}});var r=n(58588);let u=r.default||r;function o(){let{publicRuntimeConfig:t}=u();if(!t)return"";let{basePath:e=""}=t;return e}}}]);