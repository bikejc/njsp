(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{8588:function(t,e,i){t.exports=i(3035)},5053:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return m}});let r=i(1351),n=i(5815)._(i(959)),s=r._(i(422)),o=r._(i(621)),a=i(4741),l=i(2177),u=i(8113);i(8569);let c=i(4642),h=r._(i(2565)),d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/nj-crashes/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function f(t,e,i,r,n,s){let o=null==t?void 0:t.src;t&&t["data-loaded-src"]!==o&&(t["data-loaded-src"]=o,("decode"in t?t.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(t.parentElement&&t.isConnected){if("empty"!==e&&n(!0),null==i?void 0:i.current){let e=new Event("load");Object.defineProperty(e,"target",{writable:!1,value:t});let r=!1,n=!1;i.current({...e,nativeEvent:e,currentTarget:t,target:t,isDefaultPrevented:()=>r,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{r=!0,e.preventDefault()},stopPropagation:()=>{n=!0,e.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(t)}}))}function p(t){let[e,i]=n.version.split(".",2),r=parseInt(e,10),s=parseInt(i,10);return r>18||18===r&&s>=3?{fetchPriority:t}:{fetchpriority:t}}let y=(0,n.forwardRef)((t,e)=>{let{src:i,srcSet:r,sizes:s,height:o,width:a,decoding:l,className:u,style:c,fetchPriority:h,placeholder:d,loading:y,unoptimized:b,fill:m,onLoadRef:g,onLoadingCompleteRef:_,setBlurComplete:v,setShowAltText:w,onLoad:I,onError:S,...T}=t;return n.default.createElement("img",{...T,...p(h),loading:y,width:a,height:o,decoding:l,"data-nimg":m?"fill":"1",className:u,style:c,sizes:s,srcSet:r,src:i,ref:(0,n.useCallback)(t=>{e&&("function"==typeof e?e(t):"object"==typeof e&&(e.current=t)),t&&(S&&(t.src=t.src),t.complete&&f(t,d,g,_,v,b))},[i,d,g,_,v,S,b,e]),onLoad:t=>{f(t.currentTarget,d,g,_,v,b)},onError:t=>{w(!0),"empty"!==d&&v(!0),S&&S(t)}})});function b(t){let{isAppRouter:e,imgAttributes:i}=t,r={as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy,...p(i.fetchPriority)};return e&&s.default.preload?(s.default.preload(i.src,r),null):n.default.createElement(o.default,null,n.default.createElement("link",{key:"__nimg-"+i.src+i.srcSet+i.sizes,rel:"preload",href:i.srcSet?void 0:i.src,...r}))}let m=(0,n.forwardRef)((t,e)=>{let i=(0,n.useContext)(c.RouterContext),r=(0,n.useContext)(u.ImageConfigContext),s=(0,n.useMemo)(()=>{let t=d||r||l.imageConfigDefault,e=[...t.deviceSizes,...t.imageSizes].sort((t,e)=>t-e),i=t.deviceSizes.sort((t,e)=>t-e);return{...t,allSizes:e,deviceSizes:i}},[r]),{onLoad:o,onLoadingComplete:f}=t,p=(0,n.useRef)(o);(0,n.useEffect)(()=>{p.current=o},[o]);let m=(0,n.useRef)(f);(0,n.useEffect)(()=>{m.current=f},[f]);let[g,_]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),{props:I,meta:S}=(0,a.getImgProps)(t,{defaultLoader:h.default,imgConf:s,blurComplete:g,showAltText:v});return n.default.createElement(n.default.Fragment,null,n.default.createElement(y,{...I,unoptimized:S.unoptimized,placeholder:S.placeholder,fill:S.fill,onLoadRef:p,onLoadingCompleteRef:m,setBlurComplete:_,setShowAltText:w,ref:e}),S.priority?n.default.createElement(b,{isAppRouter:!i,imgAttributes:I}):null)});("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},8905:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}(e,{noSSR:function(){return o},default:function(){return a}});let r=i(1351),n=(i(959),r._(i(6508)));function s(t){return{default:(null==t?void 0:t.default)||t}}function o(t,e){return delete e.webpack,delete e.modules,t(e)}function a(t,e){let i=n.default,r={loading:t=>{let{error:e,isLoading:i,pastDelay:r}=t;return null}};t instanceof Promise?r.loader=()=>t:"function"==typeof t?r.loader=t:"object"==typeof t&&(r={...r,...t});let a=(r={...r,...e}).loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?i({...r,loader:()=>null!=a?a().then(s):Promise.resolve(s(()=>null))}):(delete r.webpack,delete r.modules,o(i,r))}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},4741:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImgProps",{enumerable:!0,get:function(){return a}}),i(8569);let r=i(7662),n=i(2177);function s(t){return void 0!==t.default}function o(t){return void 0===t?t:"number"==typeof t?Number.isFinite(t)?t:NaN:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function a(t,e){var i;let a,l,u,{src:c,sizes:h,unoptimized:d=!1,priority:f=!1,loading:p,className:y,quality:b,width:m,height:g,fill:_=!1,style:v,onLoad:w,onLoadingComplete:I,placeholder:S="empty",blurDataURL:T,fetchPriority:E,layout:A,objectFit:O,objectPosition:B,lazyBoundary:D,lazyRoot:N,...R}=t,{imgConf:F,showAltText:M,blurComplete:U,defaultLoader:C}=e,L=F||n.imageConfigDefault;if("allSizes"in L)a=L;else{let t=[...L.deviceSizes,...L.imageSizes].sort((t,e)=>t-e),e=L.deviceSizes.sort((t,e)=>t-e);a={...L,allSizes:t,deviceSizes:e}}let x=R.loader||C;delete R.loader,delete R.srcSet;let P="__next_img_default"in x;if(P){if("custom"===a.loader)throw Error('Image with src "'+c+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let t=x;x=e=>{let{config:i,...r}=e;return t(r)}}if(A){"fill"===A&&(_=!0);let t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[A];t&&(v={...v,...t});let e={responsive:"100vw",fill:"100vw"}[A];e&&!h&&(h=e)}let k="",V=o(m),z=o(g);if("object"==typeof(i=c)&&(s(i)||void 0!==i.src)){let t=s(c)?c.default:c;if(!t.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(t));if(!t.height||!t.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(t));if(l=t.blurWidth,u=t.blurHeight,T=T||t.blurDataURL,k=t.src,!_){if(V||z){if(V&&!z){let e=V/t.width;z=Math.round(t.height*e)}else if(!V&&z){let e=z/t.height;V=Math.round(t.width*e)}}else V=t.width,z=t.height}}let j=!f&&("lazy"===p||void 0===p);(!(c="string"==typeof c?c:k)||c.startsWith("data:")||c.startsWith("blob:"))&&(d=!0,j=!1),a.unoptimized&&(d=!0),P&&c.endsWith(".svg")&&!a.dangerouslyAllowSVG&&(d=!0),f&&(E="high");let Y=o(b),$=Object.assign(_?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:O,objectPosition:B}:{},M?{}:{color:"transparent"},v),W=U||"empty"===S?null:"blur"===S?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:V,heightInt:z,blurWidth:l,blurHeight:u,blurDataURL:T||"",objectFit:$.objectFit})+'")':'url("'+S+'")',G=W?{backgroundSize:$.objectFit||"cover",backgroundPosition:$.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},H=function(t){let{config:e,src:i,unoptimized:r,width:n,quality:s,sizes:o,loader:a}=t;if(r)return{src:i,srcSet:void 0,sizes:void 0};let{widths:l,kind:u}=function(t,e,i){let{deviceSizes:r,allSizes:n}=t;if(i){let t=/(^|\s)(1?\d?\d)vw/g,e=[];for(let r;r=t.exec(i);r)e.push(parseInt(r[2]));if(e.length){let t=.01*Math.min(...e);return{widths:n.filter(e=>e>=r[0]*t),kind:"w"}}return{widths:n,kind:"w"}}return"number"!=typeof e?{widths:r,kind:"w"}:{widths:[...new Set([e,2*e].map(t=>n.find(e=>e>=t)||n[n.length-1]))],kind:"x"}}(e,n,o),c=l.length-1;return{sizes:o||"w"!==u?o:"100vw",srcSet:l.map((t,r)=>a({config:e,src:i,quality:s,width:t})+" "+("w"===u?t:r+1)+u).join(", "),src:a({config:e,src:i,quality:s,width:l[c]})}}({config:a,src:c,unoptimized:d,width:V,quality:Y,sizes:h,loader:x});return{props:{...R,loading:j?"lazy":p,fetchPriority:E,width:V,height:z,decoding:"async",className:y,style:{...$,...G},sizes:H.sizes,srcSet:H.srcSet,src:H.src},meta:{unoptimized:d,priority:f,placeholder:S,fill:_}}}},7662:function(t,e){"use strict";function i(t){let{widthInt:e,heightInt:i,blurWidth:r,blurHeight:n,blurDataURL:s,objectFit:o}=t,a=r?40*r:e,l=n?40*n:i,u=a&&l?"viewBox='0 0 "+a+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===o?"xMidYMid":"cover"===o?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},3906:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}(e,{unstable_getImgProps:function(){return l},default:function(){return u}});let r=i(1351),n=i(4741),s=i(8569),o=i(5053),a=r._(i(2565)),l=t=>{(0,s.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:e}=(0,n.getImgProps)(t,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/nj-crashes/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[t,i]of Object.entries(e))void 0===i&&delete e[t];return{props:e}},u=o.Image},2565:function(t,e){"use strict";function i(t){let{config:e,src:i,width:r,quality:n}=t;return e.path+"?url="+encodeURIComponent(i)+"&w="+r+"&q="+(n||75)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}}),i.__next_img_default=!0;let r=i},945:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=i(1351)._(i(959)).default.createContext(null)},6508:function(t,e,i){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return d}});let r=i(1351)._(i(959)),n=i(945),s=[],o=[],a=!1;function l(t){let e=t(),i={loading:!0,loaded:null,error:null};return i.promise=e.then(t=>(i.loading=!1,i.loaded=t,t)).catch(t=>{throw i.loading=!1,i.error=t,t}),i}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:t,_opts:e}=this;t.loading&&("number"==typeof e.delay&&(0===e.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},e.delay)),"number"==typeof e.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},e.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(t=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(t){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...t},this._callbacks.forEach(t=>t())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(t){return this._callbacks.add(t),()=>{this._callbacks.delete(t)}}constructor(t,e){this._loadFn=t,this._opts=e,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(t){return function(t,e){let i=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},e),s=null;function l(){if(!s){let e=new u(t,i);s={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return s.promise()}if(!a){let t=i.webpack?i.webpack():i.modules;t&&o.push(e=>{for(let i of t)if(e.includes(i))return l()})}function c(t,e){!function(){l();let t=r.default.useContext(n.LoadableContext);t&&Array.isArray(i.modules)&&i.modules.forEach(e=>{t(e)})}();let o=r.default.useSyncExternalStore(s.subscribe,s.getCurrentValue,s.getCurrentValue);return r.default.useImperativeHandle(e,()=>({retry:s.retry}),[]),r.default.useMemo(()=>{var e;return o.loading||o.error?r.default.createElement(i.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:s.retry}):o.loaded?r.default.createElement((e=o.loaded)&&e.default?e.default:e,t):null},[t,o])}return c.preload=()=>l(),c.displayName="LoadableComponent",r.default.forwardRef(c)}(l,t)}function h(t,e){let i=[];for(;t.length;){let r=t.pop();i.push(r(e))}return Promise.all(i).then(()=>{if(t.length)return h(t,e)})}c.preloadAll=()=>new Promise((t,e)=>{h(s).then(t,e)}),c.preloadReady=t=>(void 0===t&&(t=[]),new Promise(e=>{let i=()=>(a=!0,e());h(o,t).then(i,i)})),window.__NEXT_PRELOADREADY=c.preloadReady;let d=c},8912:function(t){!function(){var e={675:function(t,e){"use strict";e.byteLength=function(t){var e=l(t),i=e[0],r=e[1];return(i+r)*3/4-r},e.toByteArray=function(t){var e,i,s=l(t),o=s[0],a=s[1],u=new n((o+a)*3/4-a),c=0,h=a>0?o-4:o;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,u[c++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,s=[],o=0,a=r-n;o<a;o+=16383)s.push(function(t,e,r){for(var n,s=[],o=e;o<r;o+=3)s.push(i[(n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return s.join("")}(t,o,o+16383>a?a:o+16383));return 1===n?s.push(i[(e=t[r-1])>>2]+i[e<<4&63]+"=="):2===n&&s.push(i[(e=(t[r-2]<<8)+t[r-1])>>10]+i[e>>4&63]+i[e<<2&63]+"="),s.join("")};for(var i=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)i[o]=s[o],r[s.charCodeAt(o)]=o;function l(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var r=i===e?0:4-i%4;return[i,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},72:function(t,e,i){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=i(675),n=i(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,i){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return c(t)}return l(t,e,i)}function l(t,e,i){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!a.isEncoding(e))throw TypeError("Unknown encoding: "+e);var i=0|f(t,e),r=o(i),n=r.write(t,e);return n!==i&&(r=r.slice(0,n)),r}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(D(t,ArrayBuffer)||t&&D(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(D(t,SharedArrayBuffer)||t&&D(t.buffer,SharedArrayBuffer)))return function(t,e,i){var r;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),a.prototype),r}(t,e,i);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,i);var n=function(t){if(a.isBuffer(t)){var e,i=0|d(t.length),r=o(i);return 0===r.length||t.copy(r,0,0,i),r}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?o(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),o(t<0?0:0|d(t))}function h(t){for(var e=t.length<0?0:0|d(t.length),i=o(e),r=0;r<e;r+=1)i[r]=255&t[r];return i}function d(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function f(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||D(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return E(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return O(t).length;default:if(n)return r?-1:E(t).length;e=(""+e).toLowerCase(),n=!0}}function p(t,e,i){var n,s,o=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);for(var n="",s=e;s<i;++s)n+=N[t[s]];return n}(this,e,i);case"utf8":case"utf-8":return g(this,e,i);case"ascii":return function(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}(this,e,i);case"latin1":case"binary":return function(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}(this,e,i);case"base64":return n=e,s=i,0===n&&s===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(n,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,i){for(var r=t.slice(e,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}(this,e,i);default:if(o)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function y(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function b(t,e,i,r,n){var s;if(0===t.length)return -1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),(s=i=+i)!=s&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return -1;i=t.length-1}else if(i<0){if(!n)return -1;i=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:m(t,e,i,r,n);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):m(t,[e],i,r,n);throw TypeError("val must be string, number or Buffer")}function m(t,e,i,r,n){var s,o=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;o=2,a/=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var c=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else -1!==c&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(t,s+d)!==u(e,d)){h=!1;break}if(h)return s}return -1}function g(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var s,o,a,l,u=t[n],c=null,h=u>239?4:u>223?3:u>191?2:1;if(n+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(s=t[n+1]))==128&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=t[n+1],o=t[n+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=t[n+1],o=t[n+2],a=t[n+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return i}(r)}function _(t,e,i){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>i)throw RangeError("Trying to access beyond buffer length")}function v(t,e,i,r,n,s){if(!a.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw RangeError('"value" argument is out of bounds');if(i+r>t.length)throw RangeError("Index out of range")}function w(t,e,i,r,n,s){if(i+r>t.length||i<0)throw RangeError("Index out of range")}function I(t,e,i,r,s){return e=+e,i>>>=0,s||w(t,e,i,4,34028234663852886e22,-34028234663852886e22),n.write(t,e,i,r,23,4),i+4}function S(t,e,i,r,s){return e=+e,i>>>=0,s||w(t,e,i,8,17976931348623157e292,-17976931348623157e292),n.write(t,e,i,r,52,8),i+8}e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,i){return l(t,e,i)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,i){return(u(t),t<=0)?o(t):void 0!==e?"string"==typeof i?o(t).fill(e,i):o(t).fill(e):o(t)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(D(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,r=e.length,n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);if(void 0===e)for(i=0,e=0;i<t.length;++i)e+=t[i].length;var i,r=a.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var s=t[i];if(D(s,Uint8Array)&&(s=a.from(s)),!a.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?g(this,0,t):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,i,r,n){if(D(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return -1;if(e>=i)return 1;if(e>>>=0,i>>>=0,r>>>=0,n>>>=0,this===t)return 0;for(var s=n-r,o=i-e,l=Math.min(s,o),u=this.slice(r,n),c=t.slice(e,i),h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,i){return -1!==this.indexOf(t,e,i)},a.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},a.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},a.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n,s,o,a,l,u,c,h,d,f,p,y,b=this.length-e;if((void 0===i||i>b)&&(i=b),t.length>0&&(i<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var m=!1;;)switch(r){case"hex":return function(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=e.length;r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(a!=a)break;t[i+o]=a}return o}(this,t,e,i);case"utf8":case"utf-8":return l=e,u=i,B(E(t,this.length-l),this,l,u);case"ascii":return c=e,h=i,B(A(t),this,c,h);case"latin1":case"binary":return n=this,s=t,o=e,a=i,B(A(s),n,o,a);case"base64":return d=e,f=i,B(O(t),this,d,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=e,y=i,B(function(t,e){for(var i,r,n=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(i=t.charCodeAt(s))>>8,n.push(i%256),n.push(r);return n}(t,this.length-p),this,p,y);default:if(m)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),m=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||_(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r},a.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||_(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},a.prototype.readUInt8=function(t,e){return t>>>=0,e||_(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||_(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||_(t,e,this.length);for(var r=e,n=1,s=this[t+--r];r>0&&(n*=256);)s+=this[t+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return(t>>>=0,e||_(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||_(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,e){t>>>=0,e||_(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||_(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||_(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||_(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||_(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){var n=Math.pow(2,8*i)-1;v(this,t,e,i,n,0)}var s=1,o=0;for(this[e]=255&t;++o<i&&(s*=256);)this[e+o]=t/s&255;return e+i},a.prototype.writeUIntBE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){var n=Math.pow(2,8*i)-1;v(this,t,e,i,n,0)}var s=i-1,o=1;for(this[e+s]=255&t;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+i},a.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);v(this,t,e,i,n-1,-n)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},a.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);v(this,t,e,i,n-1,-n)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},a.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||v(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,i){return I(this,t,e,!0,i)},a.prototype.writeFloatBE=function(t,e,i){return I(this,t,e,!1,i)},a.prototype.writeDoubleLE=function(t,e,i){return S(this,t,e,!0,i)},a.prototype.writeDoubleBE=function(t,e,i){return S(this,t,e,!1,i)},a.prototype.copy=function(t,e,i,r){if(!a.isBuffer(t))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var n=r-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,r);else if(this===t&&i<e&&e<r)for(var s=n-1;s>=0;--s)t[s+e]=this[s+i];else Uint8Array.prototype.set.call(t,this.subarray(i,r),e);return n},a.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===t.length){var n,s=t.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(t=s)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw RangeError("Out of range index");if(i<=e)return this;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{var o=a.isBuffer(t)?t:a.from(t,r),l=o.length;if(0===l)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=o[n%l]}return this};var T=/[^+/0-9A-Za-z-_]/g;function E(t,e){e=e||1/0;for(var i,r=t.length,n=null,s=[],o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319||o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return s}function A(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function O(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length)&&!(n>=t.length);++n)e[n+i]=t[n];return n}function D(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var N=function(){for(var t="0123456789abcdef",e=Array(256),i=0;i<16;++i)for(var r=16*i,n=0;n<16;++n)e[r+n]=t[i]+t[n];return e}()},783:function(t,e){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,i,r,n){var s,o,a=8*n-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?n-1:0,d=i?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,i,r,n,s){var o,a,l,u=8*s-n-1,c=(1<<u)-1,h=c>>1,d=23===n?5960464477539062e-23:0,f=r?0:s-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=d/l:e+=d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,n),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;t[i+f]=255&a,f+=p,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*y}}},i={};function r(t){var n=i[t];if(void 0!==n)return n.exports;var s=i[t]={exports:{}},o=!0;try{e[t](s,s.exports,r),o=!1}finally{o&&delete i[t]}return s.exports}r.ab="//";var n=r(72);t.exports=n}()},7842:function(){},5629:function(){},557:function(){},6725:function(t){!function(){"use strict";var e={114:function(t){function e(t){if("string"!=typeof t)throw TypeError("Path must be a string. Received "+JSON.stringify(t))}function i(t,e){for(var i,r="",n=0,s=-1,o=0,a=0;a<=t.length;++a){if(a<t.length)i=t.charCodeAt(a);else if(47===i)break;else i=47;if(47===i){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",n=0):n=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),s=a,o=0;continue}}else if(2===r.length||1===r.length){r="",n=0,s=a,o=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(s+1,a):r=t.slice(s+1,a),n=a-s-1;s=a,o=0}else 46===i&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var t,r,n="",s=!1,o=arguments.length-1;o>=-1&&!s;o--)o>=0?r=arguments[o]:(void 0===t&&(t=""),r=t),e(r),0!==r.length&&(n=r+"/"+n,s=47===r.charCodeAt(0));return(n=i(n,!s),s)?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return(0!==(t=i(t,!r)).length||r||(t="."),t.length>0&&n&&(t+="/"),r)?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var t,i=0;i<arguments.length;++i){var n=arguments[i];e(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":r.normalize(t)},relative:function(t,i){if(e(t),e(i),t===i||(t=r.resolve(t))===(i=r.resolve(i)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var s=t.length,o=s-n,a=1;a<i.length&&47===i.charCodeAt(a);++a);for(var l=i.length-a,u=o<l?o:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(47===i.charCodeAt(a+h))return i.slice(a+h+1);if(0===h)return i.slice(a+h)}else o>u&&(47===t.charCodeAt(n+h)?c=h:0===h&&(c=0));break}var d=t.charCodeAt(n+h);if(d!==i.charCodeAt(a+h))break;47===d&&(c=h)}var f="";for(h=n+c+1;h<=s;++h)(h===s||47===t.charCodeAt(h))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+i.slice(a+c):(a+=c,47===i.charCodeAt(a)&&++a,i.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var i=t.charCodeAt(0),r=47===i,n=-1,s=!0,o=t.length-1;o>=1;--o)if(47===(i=t.charCodeAt(o))){if(!s){n=o;break}}else s=!1;return -1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,i){if(void 0!==i&&"string"!=typeof i)throw TypeError('"ext" argument must be a string');e(t);var r,n=0,s=-1,o=!0;if(void 0!==i&&i.length>0&&i.length<=t.length){if(i.length===t.length&&i===t)return"";var a=i.length-1,l=-1;for(r=t.length-1;r>=0;--r){var u=t.charCodeAt(r);if(47===u){if(!o){n=r+1;break}}else -1===l&&(o=!1,l=r+1),a>=0&&(u===i.charCodeAt(a)?-1==--a&&(s=r):(a=-1,s=l))}return n===s?s=l:-1===s&&(s=t.length),t.slice(n,s)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else -1===s&&(o=!1,s=r+1);return -1===s?"":t.slice(n,s)},extname:function(t){e(t);for(var i=-1,r=0,n=-1,s=!0,o=0,a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(47===l){if(!s){r=a+1;break}continue}-1===n&&(s=!1,n=a+1),46===l?-1===i?i=a:1!==o&&(o=1):-1!==i&&(o=-1)}return -1===i||-1===n||0===o||1===o&&i===n-1&&i===r+1?"":t.slice(i,n)},format:function(t){var e,i;if(null===t||"object"!=typeof t)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return e=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||""),e?e===t.root?e+i:e+"/"+i:i},parse:function(t){e(t);var i,r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n=t.charCodeAt(0),s=47===n;s?(r.root="/",i=1):i=0;for(var o=-1,a=0,l=-1,u=!0,c=t.length-1,h=0;c>=i;--c){if(47===(n=t.charCodeAt(c))){if(!u){a=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===n?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1)}return -1===o||-1===l||0===h||1===h&&o===l-1&&o===a+1?-1!==l&&(0===a&&s?r.base=r.name=t.slice(1,l):r.base=r.name=t.slice(a,l)):(0===a&&s?(r.name=t.slice(1,o),r.base=t.slice(1,l)):(r.name=t.slice(a,o),r.base=t.slice(a,l)),r.ext=t.slice(o,l)),a>0?r.dir=t.slice(0,a-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r}},i={};function r(t){var n=i[t];if(void 0!==n)return n.exports;var s=i[t]={exports:{}},o=!0;try{e[t](s,s.exports,r),o=!1}finally{o&&delete i[t]}return s.exports}r.ab="//";var n=r(114);t.exports=n}()},9965:function(t,e,i){t.exports=i(8905)},955:function(t,e,i){t.exports=i(621)},7423:function(t,e,i){t.exports=i(3906)},7253:function(t,e,i){"use strict";i.d(e,{Q8:function(){return u},V7:function(){return l},VO:function(){return n},_I:function(){return a},qh:function(){return r},sq:function(){return o}});let{entries:r,values:n,keys:s,fromEntries:o}=Object;function a(t,e){return r(t).map(([t,i],r)=>e(t,i,r))}function l(t,e,i){let n=r(t).map(([t,i],r)=>e(t,i,r));return i&&n.reverse(),o(n)}function u(t,e){return l(t,(t,i)=>[t,e(t,i)])}},515:function(t,e,i){"use strict";let r,n;function s(t,e,i,r){return new(i||(i=Promise))(function(n,s){function o(t){try{l(r.next(t))}catch(t){s(t)}}function a(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?n(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(o,a)}l((r=r.apply(t,e||[])).next())})}function o(t){return this instanceof o?(this.v=t,this):new o(t)}function a(t,e,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,n=i.apply(t,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){n[t]&&(r[t]=function(e){return new Promise(function(i,r){s.push([t,e,i,r])>1||l(t,e)})})}function l(t,e){try{var i;(i=n[t](e)).value instanceof o?Promise.resolve(i.value.v).then(u,c):h(s[0][2],i)}catch(t){h(s[0][3],t)}}function u(t){l("next",t)}function c(t){l("throw",t)}function h(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function l(t){var e,i;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,n){e[r]=t[r]?function(e){return(i=!i)?{value:o(t[r](e)),done:!1}:n?n(e):e}:n}}function u(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(e){return new Promise(function(r,n){!function(t,e,i,r){Promise.resolve(r).then(function(e){t({value:e,done:i})},e)}(r,n,(e=t[i](e)).done,e.value)})}}}i.d(e,{Vx:function(){return ok},Vn:function(){return oV}}),"function"==typeof SuppressedError&&SuppressedError,(ro=iq||(iq={}))[ro.V1=0]="V1",ro[ro.V2=1]="V2",ro[ro.V3=2]="V3",ro[ro.V4=3]="V4",ro[ro.V5=4]="V5",(ra=iQ||(iQ={}))[ra.Sparse=0]="Sparse",ra[ra.Dense=1]="Dense",(rl=iK||(iK={}))[rl.HALF=0]="HALF",rl[rl.SINGLE=1]="SINGLE",rl[rl.DOUBLE=2]="DOUBLE",(ru=iJ||(iJ={}))[ru.DAY=0]="DAY",ru[ru.MILLISECOND=1]="MILLISECOND",(rc=iZ||(iZ={}))[rc.SECOND=0]="SECOND",rc[rc.MILLISECOND=1]="MILLISECOND",rc[rc.MICROSECOND=2]="MICROSECOND",rc[rc.NANOSECOND=3]="NANOSECOND",(rh=iX||(iX={}))[rh.YEAR_MONTH=0]="YEAR_MONTH",rh[rh.DAY_TIME=1]="DAY_TIME",rh[rh.MONTH_DAY_NANO=2]="MONTH_DAY_NANO",(rd=i0||(i0={}))[rd.NONE=0]="NONE",rd[rd.Schema=1]="Schema",rd[rd.DictionaryBatch=2]="DictionaryBatch",rd[rd.RecordBatch=3]="RecordBatch",rd[rd.Tensor=4]="Tensor",rd[rd.SparseTensor=5]="SparseTensor",(rf=i1||(i1={}))[rf.NONE=0]="NONE",rf[rf.Null=1]="Null",rf[rf.Int=2]="Int",rf[rf.Float=3]="Float",rf[rf.Binary=4]="Binary",rf[rf.Utf8=5]="Utf8",rf[rf.Bool=6]="Bool",rf[rf.Decimal=7]="Decimal",rf[rf.Date=8]="Date",rf[rf.Time=9]="Time",rf[rf.Timestamp=10]="Timestamp",rf[rf.Interval=11]="Interval",rf[rf.List=12]="List",rf[rf.Struct=13]="Struct",rf[rf.Union=14]="Union",rf[rf.FixedSizeBinary=15]="FixedSizeBinary",rf[rf.FixedSizeList=16]="FixedSizeList",rf[rf.Map=17]="Map",rf[rf.Duration=18]="Duration",rf[rf.Dictionary=-1]="Dictionary",rf[rf.Int8=-2]="Int8",rf[rf.Int16=-3]="Int16",rf[rf.Int32=-4]="Int32",rf[rf.Int64=-5]="Int64",rf[rf.Uint8=-6]="Uint8",rf[rf.Uint16=-7]="Uint16",rf[rf.Uint32=-8]="Uint32",rf[rf.Uint64=-9]="Uint64",rf[rf.Float16=-10]="Float16",rf[rf.Float32=-11]="Float32",rf[rf.Float64=-12]="Float64",rf[rf.DateDay=-13]="DateDay",rf[rf.DateMillisecond=-14]="DateMillisecond",rf[rf.TimestampSecond=-15]="TimestampSecond",rf[rf.TimestampMillisecond=-16]="TimestampMillisecond",rf[rf.TimestampMicrosecond=-17]="TimestampMicrosecond",rf[rf.TimestampNanosecond=-18]="TimestampNanosecond",rf[rf.TimeSecond=-19]="TimeSecond",rf[rf.TimeMillisecond=-20]="TimeMillisecond",rf[rf.TimeMicrosecond=-21]="TimeMicrosecond",rf[rf.TimeNanosecond=-22]="TimeNanosecond",rf[rf.DenseUnion=-23]="DenseUnion",rf[rf.SparseUnion=-24]="SparseUnion",rf[rf.IntervalDayTime=-25]="IntervalDayTime",rf[rf.IntervalYearMonth=-26]="IntervalYearMonth",rf[rf.DurationSecond=-27]="DurationSecond",rf[rf.DurationMillisecond=-28]="DurationMillisecond",rf[rf.DurationMicrosecond=-29]="DurationMicrosecond",rf[rf.DurationNanosecond=-30]="DurationNanosecond",(rp=i2||(i2={}))[rp.OFFSET=0]="OFFSET",rp[rp.DATA=1]="DATA",rp[rp.VALIDITY=2]="VALIDITY",rp[rp.TYPE=3]="TYPE";let c=void 0;function h(t){if(null===t)return"null";if(t===c)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"==typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(t=>h(t))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(t,e)=>"bigint"==typeof e?`${e}`:e)}let d=new TextDecoder("utf-8"),f=t=>d.decode(t),p=new TextEncoder,y=t=>p.encode(t),b=t=>"number"==typeof t,m=t=>"boolean"==typeof t,g=t=>"function"==typeof t,_=t=>null!=t&&Object(t)===t,v=t=>_(t)&&g(t.then),w=t=>_(t)&&g(t[Symbol.iterator]),I=t=>_(t)&&g(t[Symbol.asyncIterator]),S=t=>_(t)&&_(t.schema),T=t=>_(t)&&"done"in t&&"value"in t,E=t=>_(t)&&g(t.stat)&&b(t.fd),A=t=>_(t)&&D(t.body),O=t=>"_getDOMStream"in t&&"_getNodeStream"in t,B=t=>_(t)&&g(t.abort)&&g(t.getWriter)&&!O(t),D=t=>_(t)&&g(t.cancel)&&g(t.getReader)&&!O(t),N=t=>_(t)&&g(t.end)&&g(t.write)&&m(t.writable)&&!O(t),R=t=>_(t)&&g(t.read)&&g(t.pipe)&&m(t.readable)&&!O(t),F=t=>_(t)&&g(t.clear)&&g(t.bytes)&&g(t.position)&&g(t.setPosition)&&g(t.capacity)&&g(t.getBufferIdentifier)&&g(t.createLong),M="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function U(t,e,i=0,r=e.byteLength){let n=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,n),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,n));return s.set(o,i),t}function C(t,e){let i,r,n;let s=function(t){let e,i,r,n;let s=t[0]?[t[0]]:[];for(let o,a,l=0,u=0,c=t.length;++l<c;){if(o=s[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset||({byteOffset:e,byteLength:r}=o,{byteOffset:i,byteLength:n}=a,e+r<i||i+n<e)){a&&(s[++u]=a);continue}s[u]=new Uint8Array(o.buffer,e,i-e+n)}return s}(t),o=s.reduce((t,e)=>t+e.byteLength,0),a=0,l=-1,u=Math.min(e||Number.POSITIVE_INFINITY,o);for(let t=s.length;++l<t;){if(r=(i=s[l]).subarray(0,Math.min(i.length,u-a)),u<=a+r.length){r.length<i.length?s[l]=i.subarray(r.length):r.length===i.length&&l++,n?U(n,r,a):n=r;break}U(n||(n=new Uint8Array(u)),r,a),a+=r.length}return[n||new Uint8Array(0),s.slice(l),o-(n?n.byteLength:0)]}function L(t,e){let i=T(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"==typeof i&&(i=y(i)),i instanceof ArrayBuffer||i instanceof M)?new t(i):F(i)?L(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i):new t(0)}let x=t=>L(Int32Array,t),P=t=>L(Uint8Array,t),k=t=>(t.next(),t),V=t=>(function*(t,e){let i=function*(t){yield t},r="string"==typeof e?i(e):ArrayBuffer.isView(e)?i(e):e instanceof ArrayBuffer?i(e):e instanceof M?i(e):w(e)?e:i(e);return yield*k(function*(e){let i=null;do i=e.next((yield L(t,i)));while(!i.done)}(r[Symbol.iterator]())),new t})(Uint8Array,t),z=t=>(function t(e,i){return a(this,arguments,function*(){if(v(i))return yield o((yield o((yield*l(u(t(e,(yield o(i)))))))));let r=function(t){return a(this,arguments,function*(){yield yield o((yield o(t)))})},n="string"==typeof i?r(i):ArrayBuffer.isView(i)?r(i):i instanceof ArrayBuffer?r(i):i instanceof M?r(i):w(i)?function(t){return a(this,arguments,function*(){yield o((yield*l(u(k(function*(t){let e=null;do e=t.next((yield null==e?void 0:e.value));while(!e.done)}(t[Symbol.iterator]()))))))})}(i):I(i)?i:r(i);return yield o((yield*l(u(k(function(t){return a(this,arguments,function*(){let i=null;do i=yield o(t.next((yield yield o(L(e,i)))));while(!i.done)})}(n[Symbol.asyncIterator]())))))),yield o(new e)})})(Uint8Array,t);function j(t,e,i){if(0!==t){i=i.slice(0,e);for(let e=-1,r=i.length;++e<r;)i[e]+=t}return i.subarray(0,e)}let Y=Symbol.for("isArrowBigNum");function $(t,...e){return 0===e.length?Object.setPrototypeOf(L(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}function W(...t){return $.apply(this,t)}function G(...t){return $.apply(this,t)}function H(...t){return $.apply(this,t)}function q(t){let{buffer:e,byteOffset:i,length:r,signed:n}=t,s=new BigUint64Array(e,i,r),o=n&&s.at(-1)&BigInt(1)<<BigInt(63),a=o?BigInt(1):BigInt(0),l=BigInt(0);if(o){for(let t of s)a+=~t*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(let t of s)a+=t*(BigInt(1)<<BigInt(32)*l++);return a}$.prototype[Y]=!0,$.prototype.toJSON=function(){return`"${Q(this)}"`},$.prototype.valueOf=function(){return q(this)},$.prototype.toString=function(){return Q(this)},$.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return q(this);case"string":break;case"default":return K(this)}return Q(this)},Object.setPrototypeOf(W.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(G.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(H.prototype,Object.create(Uint32Array.prototype)),Object.assign(W.prototype,$.prototype,{constructor:W,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array}),Object.assign(G.prototype,$.prototype,{constructor:G,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array}),Object.assign(H.prototype,$.prototype,{constructor:H,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});let Q=t=>{if(8===t.byteLength){let e=new t.BigIntArray(t.buffer,t.byteOffset,1);return`${e[0]}`}if(!t.signed)return J(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return J(t);e=e.slice();let i=1;for(let t=0;t<e.length;t++){let r=e[t],n=~r+i;e[t]=n,i&=0===r?1:0}let r=J(e);return`-${r}`},K=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Q(t);function J(t){let e="",i=new Uint32Array(2),r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(i[0]=r[s=0];s<o;)r[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+r[s];r[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e=`${i[0]}${e}`}while(n[0]||n[1]||n[2]||n[3]);return null!=e?e:"0"}class Z{static new(t,e){switch(e){case!0:return new W(t);case!1:return new G(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new W(t)}return 16===t.byteLength?new H(t):new G(t)}static signed(t){return new W(t)}static unsigned(t){return new G(t)}static decimal(t){return new H(t)}constructor(t,e){return Z.new(t,e)}}function X(t){if("bigint"==typeof t&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw TypeError(`${t} is not safe to convert to a number.`);return Number(t)}class tt{static isNull(t){return(null==t?void 0:t.typeId)===i1.Null}static isInt(t){return(null==t?void 0:t.typeId)===i1.Int}static isFloat(t){return(null==t?void 0:t.typeId)===i1.Float}static isBinary(t){return(null==t?void 0:t.typeId)===i1.Binary}static isUtf8(t){return(null==t?void 0:t.typeId)===i1.Utf8}static isBool(t){return(null==t?void 0:t.typeId)===i1.Bool}static isDecimal(t){return(null==t?void 0:t.typeId)===i1.Decimal}static isDate(t){return(null==t?void 0:t.typeId)===i1.Date}static isTime(t){return(null==t?void 0:t.typeId)===i1.Time}static isTimestamp(t){return(null==t?void 0:t.typeId)===i1.Timestamp}static isInterval(t){return(null==t?void 0:t.typeId)===i1.Interval}static isDuration(t){return(null==t?void 0:t.typeId)===i1.Duration}static isList(t){return(null==t?void 0:t.typeId)===i1.List}static isStruct(t){return(null==t?void 0:t.typeId)===i1.Struct}static isUnion(t){return(null==t?void 0:t.typeId)===i1.Union}static isFixedSizeBinary(t){return(null==t?void 0:t.typeId)===i1.FixedSizeBinary}static isFixedSizeList(t){return(null==t?void 0:t.typeId)===i1.FixedSizeList}static isMap(t){return(null==t?void 0:t.typeId)===i1.Map}static isDictionary(t){return(null==t?void 0:t.typeId)===i1.Dictionary}static isDenseUnion(t){return tt.isUnion(t)&&t.mode===iQ.Dense}static isSparseUnion(t){return tt.isUnion(t)&&t.mode===iQ.Sparse}get typeId(){return i1.NONE}}tt[Symbol.toStringTag]=((ry=tt.prototype).children=null,ry.ArrayType=Array,ry[Symbol.toStringTag]="DataType");class te extends tt{toString(){return"Null"}get typeId(){return i1.Null}}te[Symbol.toStringTag]=te.prototype[Symbol.toStringTag]="Null";class ti extends tt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return i1.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}ti[Symbol.toStringTag]=((rb=ti.prototype).isSigned=null,rb.bitWidth=null,rb[Symbol.toStringTag]="Int");class tr extends ti{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class tn extends ti{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class ts extends ti{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class to extends ti{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class ta extends ti{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class tl extends ti{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class tu extends ti{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class tc extends ti{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(tr.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(tn.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(ts.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(to.prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty(ta.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(tl.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(tu.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(tc.prototype,"ArrayType",{value:BigUint64Array});class th extends tt{constructor(t){super(),this.precision=t}get typeId(){return i1.Float}get ArrayType(){switch(this.precision){case iK.HALF:return Uint16Array;case iK.SINGLE:return Float32Array;case iK.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}th[Symbol.toStringTag]=((rm=th.prototype).precision=null,rm[Symbol.toStringTag]="Float");class td extends th{constructor(){super(iK.HALF)}}class tf extends th{constructor(){super(iK.SINGLE)}}class tp extends th{constructor(){super(iK.DOUBLE)}}Object.defineProperty(td.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(tf.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(tp.prototype,"ArrayType",{value:Float64Array});class ty extends tt{constructor(){super()}get typeId(){return i1.Binary}toString(){return"Binary"}}ty[Symbol.toStringTag]=((rg=ty.prototype).ArrayType=Uint8Array,rg[Symbol.toStringTag]="Binary");class tb extends tt{constructor(){super()}get typeId(){return i1.Utf8}toString(){return"Utf8"}}tb[Symbol.toStringTag]=((r_=tb.prototype).ArrayType=Uint8Array,r_[Symbol.toStringTag]="Utf8");class tm extends tt{constructor(){super()}get typeId(){return i1.Bool}toString(){return"Bool"}}tm[Symbol.toStringTag]=((rv=tm.prototype).ArrayType=Uint8Array,rv[Symbol.toStringTag]="Bool");class tg extends tt{constructor(t,e,i=128){super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return i1.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}tg[Symbol.toStringTag]=((rw=tg.prototype).scale=null,rw.precision=null,rw.ArrayType=Uint32Array,rw[Symbol.toStringTag]="Decimal");class t_ extends tt{constructor(t){super(),this.unit=t}get typeId(){return i1.Date}toString(){return`Date${(this.unit+1)*32}<${iJ[this.unit]}>`}}t_[Symbol.toStringTag]=((rI=t_.prototype).unit=null,rI.ArrayType=Int32Array,rI[Symbol.toStringTag]="Date");class tv extends tt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return i1.Time}toString(){return`Time${this.bitWidth}<${iZ[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}tv[Symbol.toStringTag]=((rS=tv.prototype).unit=null,rS.bitWidth=null,rS[Symbol.toStringTag]="Time");class tw extends tt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return i1.Timestamp}toString(){return`Timestamp<${iZ[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}tw[Symbol.toStringTag]=((rT=tw.prototype).unit=null,rT.timezone=null,rT.ArrayType=Int32Array,rT[Symbol.toStringTag]="Timestamp");class tI extends tt{constructor(t){super(),this.unit=t}get typeId(){return i1.Interval}toString(){return`Interval<${iX[this.unit]}>`}}tI[Symbol.toStringTag]=((rE=tI.prototype).unit=null,rE.ArrayType=Int32Array,rE[Symbol.toStringTag]="Interval");class tS extends tt{constructor(t){super(),this.unit=t}get typeId(){return i1.Duration}toString(){return`Duration<${iZ[this.unit]}>`}}tS[Symbol.toStringTag]=((rA=tS.prototype).unit=null,rA.ArrayType=BigInt64Array,rA[Symbol.toStringTag]="Duration");class tT extends tt{constructor(t){super(),this.children=[t]}get typeId(){return i1.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}tT[Symbol.toStringTag]=((rO=tT.prototype).children=null,rO[Symbol.toStringTag]="List");class tE extends tt{constructor(t){super(),this.children=t}get typeId(){return i1.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}tE[Symbol.toStringTag]=((rB=tE.prototype).children=null,rB[Symbol.toStringTag]="Struct");class tA extends tt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,i)=>(t[e]=i)&&t||t,Object.create(null))}get typeId(){return i1.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}tA[Symbol.toStringTag]=((rD=tA.prototype).mode=null,rD.typeIds=null,rD.children=null,rD.typeIdToChildIndex=null,rD.ArrayType=Int8Array,rD[Symbol.toStringTag]="Union");class tO extends tt{constructor(t){super(),this.byteWidth=t}get typeId(){return i1.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}tO[Symbol.toStringTag]=((rN=tO.prototype).byteWidth=null,rN.ArrayType=Uint8Array,rN[Symbol.toStringTag]="FixedSizeBinary");class tB extends tt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return i1.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}tB[Symbol.toStringTag]=((rR=tB.prototype).children=null,rR.listSize=null,rR[Symbol.toStringTag]="FixedSizeList");class tD extends tt{constructor(t,e=!1){var i,r,n;if(super(),this.children=[t],this.keysSorted=e,t&&(t.name="entries",null===(i=null==t?void 0:t.type)||void 0===i?void 0:i.children)){let e=null===(r=null==t?void 0:t.type)||void 0===r?void 0:r.children[0];e&&(e.name="key");let i=null===(n=null==t?void 0:t.type)||void 0===n?void 0:n.children[1];i&&(i.name="value")}}get typeId(){return i1.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}tD[Symbol.toStringTag]=((rF=tD.prototype).children=null,rF.keysSorted=null,rF[Symbol.toStringTag]="Map_");let tN=(rM=-1,()=>++rM);class tR extends tt{constructor(t,e,i,r){super(),this.indices=e,this.dictionary=t,this.isOrdered=r||!1,this.id=null==i?tN():X(i)}get typeId(){return i1.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function tF(t){switch(t.typeId){case i1.Decimal:return t.bitWidth/32;case i1.Timestamp:return 2;case i1.Date:case i1.Interval:return 1+t.unit;case i1.FixedSizeList:return t.listSize;case i1.FixedSizeBinary:return t.byteWidth;default:return 1}}tR[Symbol.toStringTag]=((rU=tR.prototype).id=null,rU.indices=null,rU.isOrdered=null,rU.dictionary=null,rU[Symbol.toStringTag]="Dictionary");class tM{visitMany(t,...e){return t.map((t,i)=>this.visit(t,...e.map(t=>t[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return function(t,e,i=!0){return"number"==typeof e?tU(t,e,i):"string"==typeof e&&e in i1?tU(t,i1[e],i):e&&e instanceof tt?tU(t,tC(e),i):(null==e?void 0:e.type)&&e.type instanceof tt?tU(t,tC(e.type),i):tU(t,i1.NONE,i)}(this,t,e)}getVisitFnByTypeId(t,e=!0){return tU(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitDuration(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function tU(t,e,i=!0){let r=null;switch(e){case i1.Null:r=t.visitNull;break;case i1.Bool:r=t.visitBool;break;case i1.Int:r=t.visitInt;break;case i1.Int8:r=t.visitInt8||t.visitInt;break;case i1.Int16:r=t.visitInt16||t.visitInt;break;case i1.Int32:r=t.visitInt32||t.visitInt;break;case i1.Int64:r=t.visitInt64||t.visitInt;break;case i1.Uint8:r=t.visitUint8||t.visitInt;break;case i1.Uint16:r=t.visitUint16||t.visitInt;break;case i1.Uint32:r=t.visitUint32||t.visitInt;break;case i1.Uint64:r=t.visitUint64||t.visitInt;break;case i1.Float:r=t.visitFloat;break;case i1.Float16:r=t.visitFloat16||t.visitFloat;break;case i1.Float32:r=t.visitFloat32||t.visitFloat;break;case i1.Float64:r=t.visitFloat64||t.visitFloat;break;case i1.Utf8:r=t.visitUtf8;break;case i1.Binary:r=t.visitBinary;break;case i1.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case i1.Date:r=t.visitDate;break;case i1.DateDay:r=t.visitDateDay||t.visitDate;break;case i1.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case i1.Timestamp:r=t.visitTimestamp;break;case i1.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case i1.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case i1.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case i1.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case i1.Time:r=t.visitTime;break;case i1.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case i1.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case i1.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case i1.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case i1.Decimal:r=t.visitDecimal;break;case i1.List:r=t.visitList;break;case i1.Struct:r=t.visitStruct;break;case i1.Union:r=t.visitUnion;break;case i1.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case i1.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case i1.Dictionary:r=t.visitDictionary;break;case i1.Interval:r=t.visitInterval;break;case i1.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case i1.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case i1.Duration:r=t.visitDuration;break;case i1.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case i1.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case i1.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case i1.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case i1.FixedSizeList:r=t.visitFixedSizeList;break;case i1.Map:r=t.visitMap}if("function"==typeof r)return r;if(!i)return()=>null;throw Error(`Unrecognized type '${i1[e]}'`)}function tC(t){switch(t.typeId){case i1.Null:return i1.Null;case i1.Int:{let{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?i1.Int8:i1.Uint8;case 16:return i?i1.Int16:i1.Uint16;case 32:return i?i1.Int32:i1.Uint32;case 64:return i?i1.Int64:i1.Uint64}return i1.Int}case i1.Float:switch(t.precision){case iK.HALF:return i1.Float16;case iK.SINGLE:return i1.Float32;case iK.DOUBLE:return i1.Float64}return i1.Float;case i1.Binary:return i1.Binary;case i1.Utf8:return i1.Utf8;case i1.Bool:return i1.Bool;case i1.Decimal:return i1.Decimal;case i1.Time:switch(t.unit){case iZ.SECOND:return i1.TimeSecond;case iZ.MILLISECOND:return i1.TimeMillisecond;case iZ.MICROSECOND:return i1.TimeMicrosecond;case iZ.NANOSECOND:return i1.TimeNanosecond}return i1.Time;case i1.Timestamp:switch(t.unit){case iZ.SECOND:return i1.TimestampSecond;case iZ.MILLISECOND:return i1.TimestampMillisecond;case iZ.MICROSECOND:return i1.TimestampMicrosecond;case iZ.NANOSECOND:return i1.TimestampNanosecond}return i1.Timestamp;case i1.Date:switch(t.unit){case iJ.DAY:return i1.DateDay;case iJ.MILLISECOND:return i1.DateMillisecond}return i1.Date;case i1.Interval:switch(t.unit){case iX.DAY_TIME:return i1.IntervalDayTime;case iX.YEAR_MONTH:return i1.IntervalYearMonth}return i1.Interval;case i1.Duration:switch(t.unit){case iZ.SECOND:return i1.DurationSecond;case iZ.MILLISECOND:return i1.DurationMillisecond;case iZ.MICROSECOND:return i1.DurationMicrosecond;case iZ.NANOSECOND:return i1.DurationNanosecond}return i1.Duration;case i1.Map:return i1.Map;case i1.List:return i1.List;case i1.Struct:return i1.Struct;case i1.Union:switch(t.mode){case iQ.Dense:return i1.DenseUnion;case iQ.Sparse:return i1.SparseUnion}return i1.Union;case i1.FixedSizeBinary:return i1.FixedSizeBinary;case i1.FixedSizeList:return i1.FixedSizeList;case i1.Dictionary:return i1.Dictionary}throw Error(`Unrecognized type '${i1[t.typeId]}'`)}tM.prototype.visitInt8=null,tM.prototype.visitInt16=null,tM.prototype.visitInt32=null,tM.prototype.visitInt64=null,tM.prototype.visitUint8=null,tM.prototype.visitUint16=null,tM.prototype.visitUint32=null,tM.prototype.visitUint64=null,tM.prototype.visitFloat16=null,tM.prototype.visitFloat32=null,tM.prototype.visitFloat64=null,tM.prototype.visitDateDay=null,tM.prototype.visitDateMillisecond=null,tM.prototype.visitTimestampSecond=null,tM.prototype.visitTimestampMillisecond=null,tM.prototype.visitTimestampMicrosecond=null,tM.prototype.visitTimestampNanosecond=null,tM.prototype.visitTimeSecond=null,tM.prototype.visitTimeMillisecond=null,tM.prototype.visitTimeMicrosecond=null,tM.prototype.visitTimeNanosecond=null,tM.prototype.visitDenseUnion=null,tM.prototype.visitSparseUnion=null,tM.prototype.visitIntervalDayTime=null,tM.prototype.visitIntervalYearMonth=null,tM.prototype.visitDuration=null,tM.prototype.visitDurationSecond=null,tM.prototype.visitDurationMillisecond=null,tM.prototype.visitDurationMicrosecond=null,tM.prototype.visitDurationNanosecond=null;let tL=new Float64Array(1),tx=new Uint32Array(tL.buffer);function tP(t){let e=(31744&t)>>10,i=(1023&t)/1024,r=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return r*(i?Number.NaN:1/0);case 0:return r*(i?6103515625e-14*i:0)}return r*Math.pow(2,e-15)*(1+i)}class tk extends tM{}function tV(t){return(e,i,r)=>{if(e.setValid(i,null!=r))return t(e,i,r)}}let tz=(t,e,i)=>{t[e]=Math.trunc(i/864e5)},tj=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},tY=(t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)},t$=(t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)},tW=(t,e,i,r)=>{if(i+1<e.length){let{[i]:n,[i+1]:s}=e;t.set(r.subarray(0,s-n),n)}},tG=({values:t},e,i)=>{t[e]=i},tH=({values:t},e,i)=>{t[e]=i},tq=({values:t},e,i)=>{t[e]=function(t){if(t!=t)return 32256;tL[0]=t;let e=(2147483648&tx[1])>>16&65535,i=2146435072&tx[1],r=0;return i>=1089470464?tx[0]>0?i=31744:(i=(2080374784&i)>>16,r=(1048575&tx[1])>>10):i<=1056964608?(r=1048576+((r=1048576+(1048575&tx[1]))<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,r=(1048575&tx[1])+512>>10),e|i|65535&r}(i)},tQ=({values:t},e,i)=>{tz(t,e,i.valueOf())},tK=({values:t},e,i)=>{tj(t,2*e,i.valueOf())},tJ=({values:t},e,i)=>tj(t,2*e,i/1e3),tZ=({values:t},e,i)=>tj(t,2*e,i),tX=({values:t},e,i)=>tY(t,2*e,i),t0=({values:t},e,i)=>t$(t,2*e,i),t1=({values:t},e,i)=>{t[e]=i},t2=({values:t},e,i)=>{t[e]=i},t3=({values:t},e,i)=>{t[e]=i},t6=({values:t},e,i)=>{t[e]=i},t4=(t,e)=>(i,r,n,s)=>r&&i(r,t,e[s]),t8=(t,e)=>(i,r,n,s)=>r&&i(r,t,e.get(s)),t5=(t,e)=>(i,r,n,s)=>r&&i(r,t,e.get(n.name)),t7=(t,e)=>(i,r,n,s)=>r&&i(r,t,e[n.name]),t9=(t,e,i)=>{let r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];ea.visit(n,t.valueOffsets[e],i)},et=(t,e,i)=>{let r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];ea.visit(n,e,i)},ee=({values:t},e,i)=>{t.set(i.subarray(0,2),2*e)},ei=({values:t},e,i)=>{t[e]=12*i[0]+i[1]%12},er=({values:t},e,i)=>{t[e]=i},en=({values:t},e,i)=>{t[e]=i},es=({values:t},e,i)=>{t[e]=i},eo=({values:t},e,i)=>{t[e]=i};tk.prototype.visitBool=tV(({offset:t,values:e},i,r)=>{let n=t+i;r?e[n>>3]|=1<<n%8:e[n>>3]&=~(1<<n%8)}),tk.prototype.visitInt=tV(tG),tk.prototype.visitInt8=tV(tG),tk.prototype.visitInt16=tV(tG),tk.prototype.visitInt32=tV(tG),tk.prototype.visitInt64=tV(tG),tk.prototype.visitUint8=tV(tG),tk.prototype.visitUint16=tV(tG),tk.prototype.visitUint32=tV(tG),tk.prototype.visitUint64=tV(tG),tk.prototype.visitFloat=tV((t,e,i)=>{switch(t.type.precision){case iK.HALF:return tq(t,e,i);case iK.SINGLE:case iK.DOUBLE:return tH(t,e,i)}}),tk.prototype.visitFloat16=tV(tq),tk.prototype.visitFloat32=tV(tH),tk.prototype.visitFloat64=tV(tH),tk.prototype.visitUtf8=tV(({values:t,valueOffsets:e},i,r)=>{tW(t,e,i,y(r))}),tk.prototype.visitBinary=tV(({values:t,valueOffsets:e},i,r)=>tW(t,e,i,r)),tk.prototype.visitFixedSizeBinary=tV(({stride:t,values:e},i,r)=>{e.set(r.subarray(0,t),t*i)}),tk.prototype.visitDate=tV((t,e,i)=>{t.type.unit===iJ.DAY?tQ(t,e,i):tK(t,e,i)}),tk.prototype.visitDateDay=tV(tQ),tk.prototype.visitDateMillisecond=tV(tK),tk.prototype.visitTimestamp=tV((t,e,i)=>{switch(t.type.unit){case iZ.SECOND:return tJ(t,e,i);case iZ.MILLISECOND:return tZ(t,e,i);case iZ.MICROSECOND:return tX(t,e,i);case iZ.NANOSECOND:return t0(t,e,i)}}),tk.prototype.visitTimestampSecond=tV(tJ),tk.prototype.visitTimestampMillisecond=tV(tZ),tk.prototype.visitTimestampMicrosecond=tV(tX),tk.prototype.visitTimestampNanosecond=tV(t0),tk.prototype.visitTime=tV((t,e,i)=>{switch(t.type.unit){case iZ.SECOND:return t1(t,e,i);case iZ.MILLISECOND:return t2(t,e,i);case iZ.MICROSECOND:return t3(t,e,i);case iZ.NANOSECOND:return t6(t,e,i)}}),tk.prototype.visitTimeSecond=tV(t1),tk.prototype.visitTimeMillisecond=tV(t2),tk.prototype.visitTimeMicrosecond=tV(t3),tk.prototype.visitTimeNanosecond=tV(t6),tk.prototype.visitDecimal=tV(({values:t,stride:e},i,r)=>{t.set(r.subarray(0,e),e*i)}),tk.prototype.visitList=tV((t,e,i)=>{let r=t.children[0],n=t.valueOffsets,s=ea.getVisitFn(r);if(Array.isArray(i))for(let t=-1,o=n[e],a=n[e+1];o<a;)s(r,o++,i[++t]);else for(let t=-1,o=n[e],a=n[e+1];o<a;)s(r,o++,i.get(++t))}),tk.prototype.visitStruct=tV((t,e,i)=>{let r=t.type.children.map(t=>ea.getVisitFn(t.type)),n=i instanceof Map?t5(e,i):i instanceof iI?t8(e,i):Array.isArray(i)?t4(e,i):t7(e,i);t.type.children.forEach((e,i)=>n(r[i],t.children[i],e,i))}),tk.prototype.visitUnion=tV((t,e,i)=>{t.type.mode===iQ.Dense?t9(t,e,i):et(t,e,i)}),tk.prototype.visitDenseUnion=tV(t9),tk.prototype.visitSparseUnion=tV(et),tk.prototype.visitDictionary=tV((t,e,i)=>{var r;null===(r=t.dictionary)||void 0===r||r.set(t.values[e],i)}),tk.prototype.visitInterval=tV((t,e,i)=>{t.type.unit===iX.DAY_TIME?ee(t,e,i):ei(t,e,i)}),tk.prototype.visitIntervalDayTime=tV(ee),tk.prototype.visitIntervalYearMonth=tV(ei),tk.prototype.visitDuration=tV((t,e,i)=>{switch(t.type.unit){case iZ.SECOND:return er(t,e,i);case iZ.MILLISECOND:return en(t,e,i);case iZ.MICROSECOND:return es(t,e,i);case iZ.NANOSECOND:return eo(t,e,i)}}),tk.prototype.visitDurationSecond=tV(er),tk.prototype.visitDurationMillisecond=tV(en),tk.prototype.visitDurationMicrosecond=tV(es),tk.prototype.visitDurationNanosecond=tV(eo),tk.prototype.visitFixedSizeList=tV((t,e,i)=>{let{stride:r}=t,n=t.children[0],s=ea.getVisitFn(n);if(Array.isArray(i))for(let t=-1,o=e*r;++t<r;)s(n,o+t,i[t]);else for(let t=-1,o=e*r;++t<r;)s(n,o+t,i.get(t))}),tk.prototype.visitMap=tV((t,e,i)=>{let r=t.children[0],{valueOffsets:n}=t,s=ea.getVisitFn(r),{[e]:o,[e+1]:a}=n;for(let t of i instanceof Map?i.entries():Object.entries(i))if(s(r,o,t),++o>=a)break});let ea=new tk,el=Symbol.for("parent"),eu=Symbol.for("rowIndex");class ec{constructor(t,e){return this[el]=t,this[eu]=e,new Proxy(this,new ed)}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[eu],e=this[el],i=e.type.children,r={};for(let n=-1,s=i.length;++n<s;)r[i[n].name]=eY.visit(e.children[n],t);return r}toString(){return`{${[...this].map(([t,e])=>`${h(t)}: ${h(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new eh(this[el],this[eu])}}class eh{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,eY.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(ec.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[el]:{writable:!0,enumerable:!1,configurable:!1,value:null},[eu]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ed{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[el].type.children.map(t=>t.name)}has(t,e){return -1!==t[el].type.children.findIndex(t=>t.name===e)}getOwnPropertyDescriptor(t,e){if(-1!==t[el].type.children.findIndex(t=>t.name===e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];let i=t[el].type.children.findIndex(t=>t.name===e);if(-1!==i){let r=eY.visit(t[el].children[i],t[eu]);return Reflect.set(t,e,r),r}}set(t,e,i){let r=t[el].type.children.findIndex(t=>t.name===e);return -1!==r?(ea.visit(t[el].children[r],t[eu],i),Reflect.set(t,e,i)):(!!Reflect.has(t,e)||"symbol"==typeof e)&&Reflect.set(t,e,i)}}class ef extends tM{}function ep(t){return(e,i)=>e.getValid(i)?t(e,i):null}let ey=(t,e)=>864e5*t[e],eb=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),em=(t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3,eg=(t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6,e_=t=>new Date(t),ev=(t,e)=>e_(ey(t,e)),ew=(t,e)=>e_(eb(t,e)),eI=(t,e,i)=>{if(i+1>=e.length)return null;let r=e[i],n=e[i+1];return t.subarray(r,n)},eS=({values:t},e)=>ev(t,e),eT=({values:t},e)=>ew(t,2*e),eE=({stride:t,values:e},i)=>e[t*i],eA=({values:t},e)=>t[e],eO=({values:t},e)=>1e3*eb(t,2*e),eB=({values:t},e)=>eb(t,2*e),eD=({values:t},e)=>em(t,2*e),eN=({values:t},e)=>eg(t,2*e),eR=({values:t},e)=>t[e],eF=({values:t},e)=>t[e],eM=({values:t},e)=>t[e],eU=({values:t},e)=>t[e],eC=(t,e)=>{let i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];return eY.visit(r,t.valueOffsets[e])},eL=(t,e)=>{let i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];return eY.visit(r,e)},ex=({values:t},e)=>t.subarray(2*e,2*(e+1)),eP=({values:t},e)=>{let i=t[e],r=new Int32Array(2);return r[0]=Math.trunc(i/12),r[1]=Math.trunc(i%12),r},ek=({values:t},e)=>t[e],eV=({values:t},e)=>t[e],ez=({values:t},e)=>t[e],ej=({values:t},e)=>t[e];ef.prototype.visitNull=ep((t,e)=>null),ef.prototype.visitBool=ep(({offset:t,values:e},i)=>{let r=t+i;return(e[r>>3]&1<<r%8)!=0}),ef.prototype.visitInt=ep(({values:t},e)=>t[e]),ef.prototype.visitInt8=ep(eE),ef.prototype.visitInt16=ep(eE),ef.prototype.visitInt32=ep(eE),ef.prototype.visitInt64=ep(eA),ef.prototype.visitUint8=ep(eE),ef.prototype.visitUint16=ep(eE),ef.prototype.visitUint32=ep(eE),ef.prototype.visitUint64=ep(eA),ef.prototype.visitFloat=ep(({type:t,values:e},i)=>t.precision!==iK.HALF?e[i]:tP(e[i])),ef.prototype.visitFloat16=ep(({stride:t,values:e},i)=>tP(e[t*i])),ef.prototype.visitFloat32=ep(eE),ef.prototype.visitFloat64=ep(eE),ef.prototype.visitUtf8=ep(({values:t,valueOffsets:e},i)=>{let r=eI(t,e,i);return null!==r?f(r):null}),ef.prototype.visitBinary=ep(({values:t,valueOffsets:e},i)=>eI(t,e,i)),ef.prototype.visitFixedSizeBinary=ep(({stride:t,values:e},i)=>e.subarray(t*i,t*(i+1))),ef.prototype.visitDate=ep((t,e)=>t.type.unit===iJ.DAY?eS(t,e):eT(t,e)),ef.prototype.visitDateDay=ep(eS),ef.prototype.visitDateMillisecond=ep(eT),ef.prototype.visitTimestamp=ep((t,e)=>{switch(t.type.unit){case iZ.SECOND:return eO(t,e);case iZ.MILLISECOND:return eB(t,e);case iZ.MICROSECOND:return eD(t,e);case iZ.NANOSECOND:return eN(t,e)}}),ef.prototype.visitTimestampSecond=ep(eO),ef.prototype.visitTimestampMillisecond=ep(eB),ef.prototype.visitTimestampMicrosecond=ep(eD),ef.prototype.visitTimestampNanosecond=ep(eN),ef.prototype.visitTime=ep((t,e)=>{switch(t.type.unit){case iZ.SECOND:return eR(t,e);case iZ.MILLISECOND:return eF(t,e);case iZ.MICROSECOND:return eM(t,e);case iZ.NANOSECOND:return eU(t,e)}}),ef.prototype.visitTimeSecond=ep(eR),ef.prototype.visitTimeMillisecond=ep(eF),ef.prototype.visitTimeMicrosecond=ep(eM),ef.prototype.visitTimeNanosecond=ep(eU),ef.prototype.visitDecimal=ep(({values:t,stride:e},i)=>Z.decimal(t.subarray(e*i,e*(i+1)))),ef.prototype.visitList=ep((t,e)=>{let{valueOffsets:i,stride:r,children:n}=t,{[e*r]:s,[e*r+1]:o}=i;return new iI([n[0].slice(s,o-s)])}),ef.prototype.visitStruct=ep((t,e)=>new ec(t,e)),ef.prototype.visitUnion=ep((t,e)=>t.type.mode===iQ.Dense?eC(t,e):eL(t,e)),ef.prototype.visitDenseUnion=ep(eC),ef.prototype.visitSparseUnion=ep(eL),ef.prototype.visitDictionary=ep((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])}),ef.prototype.visitInterval=ep((t,e)=>t.type.unit===iX.DAY_TIME?ex(t,e):eP(t,e)),ef.prototype.visitIntervalDayTime=ep(ex),ef.prototype.visitIntervalYearMonth=ep(eP),ef.prototype.visitDuration=ep((t,e)=>{switch(t.type.unit){case iZ.SECOND:return ek(t,e);case iZ.MILLISECOND:return eV(t,e);case iZ.MICROSECOND:return ez(t,e);case iZ.NANOSECOND:return ej(t,e)}}),ef.prototype.visitDurationSecond=ep(ek),ef.prototype.visitDurationMillisecond=ep(eV),ef.prototype.visitDurationMicrosecond=ep(ez),ef.prototype.visitDurationNanosecond=ep(ej),ef.prototype.visitFixedSizeList=ep((t,e)=>{let{stride:i,children:r}=t;return new iI([r[0].slice(e*i,i)])}),ef.prototype.visitMap=ep((t,e)=>{let{valueOffsets:i,children:r}=t,{[e]:n,[e+1]:s}=i;return new eG(r[0].slice(n,s-n))});let eY=new ef,e$=Symbol.for("keys"),eW=Symbol.for("vals");class eG{constructor(t){return this[e$]=new iI([t.children[0]]).memoize(),this[eW]=t.children[1],new Proxy(this,new eq)}[Symbol.iterator](){return new eH(this[e$],this[eW])}get size(){return this[e$].length}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[e$],e=this[eW],i={};for(let r=-1,n=t.length;++r<n;)i[t.get(r)]=eY.visit(e,r);return i}toString(){return`{${[...this].map(([t,e])=>`${h(t)}: ${h(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class eH{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){let t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),eY.visit(this.vals,t)]})}}class eq{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[e$].toArray().map(String)}has(t,e){return t[e$].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[e$].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];let i=t[e$].indexOf(e);if(-1!==i){let r=eY.visit(Reflect.get(t,eW),i);return Reflect.set(t,e,r),r}}set(t,e,i){let r=t[e$].indexOf(e);return -1!==r?(ea.visit(Reflect.get(t,eW),r,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}function eQ(t,e,i,n){let{length:s=0}=t,o="number"!=typeof e?0:e,a="number"!=typeof i?s:i;return o<0&&(o=(o%s+s)%s),a<0&&(a=(a%s+s)%s),a<o&&(r=o,o=a,a=r),a>s&&(a=s),n?n(t,o,a):[o,a]}Object.defineProperties(eG.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[e$]:{writable:!0,enumerable:!1,configurable:!1,value:null},[eW]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let eK=t=>t!=t;function eJ(t){if("object"!=typeof t||null===t)return eK(t)?eK:e=>e===t;if(t instanceof Date){let e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0,r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[i]!==e[i])return!1;while(++i<r);return!0}(t,e):t instanceof Map?function(t){let e=-1,i=[];for(let r of t.values())i[++e]=eJ(r);return eZ(i)}(t):Array.isArray(t)?function(t){let e=[];for(let i=-1,r=t.length;++i<r;)e[i]=eJ(t[i]);return eZ(e)}(t):t instanceof iI?function(t){let e=[];for(let i=-1,r=t.length;++i<r;)e[i]=eJ(t.get(i));return eZ(e)}(t):function(t,e=!1){let i=Object.keys(t);if(!e&&0===i.length)return()=>!1;let r=[];for(let e=-1,n=i.length;++e<n;)r[e]=eJ(t[i[e]]);return eZ(r,i)}(t,!0)}function eZ(t,e){return i=>{if(!i||"object"!=typeof i)return!1;switch(i.constructor){case Array:return function(t,e){let i=t.length;if(e.length!==i)return!1;for(let r=-1;++r<i;)if(!t[r](e[r]))return!1;return!0}(t,i);case Map:return eX(t,i,i.keys());case eG:case ec:case Object:case void 0:return eX(t,i,e||Object.keys(i))}return i instanceof iI&&function(t,e){let i=t.length;if(e.length!==i)return!1;for(let r=-1;++r<i;)if(!t[r](e.get(r)))return!1;return!0}(t,i)}}function eX(t,e,i){let r=i[Symbol.iterator](),n=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=t.length,l=s.next(),u=r.next(),c=n.next();for(;o<a&&!u.done&&!c.done&&!l.done&&u.value===c.value&&t[o](l.value);++o,u=r.next(),c=n.next(),l=s.next());return o===a&&!!u.done&&!!c.done&&!!l.done||(r.return&&r.return(),n.return&&n.return(),s.return&&s.return(),!1)}class e0{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function e1(t){return t.reduce((t,e)=>t+e.nullCount,0)}function e2(t){return t.reduce((t,e,i)=>(t[i+1]=t[i]+e.length,t),new Uint32Array(t.length+1))}function e3(t,e,i,r){let n=[];for(let s=-1,o=t.length;++s<o;){let o=t[s],a=e[s],{length:l}=o;if(a>=r)break;if(i>=a+l)continue;if(a>=i&&a+l<=r){n.push(o);continue}let u=Math.max(0,i-a),c=Math.min(r-a,l);n.push(o.slice(u,c-u))}return 0===n.length&&n.push(t[0].slice(0,0)),n}function e6(t,e,i,r){let n=0,s=0,o=e.length-1;do{if(n>=o-1)return i<e[o]?r(t,n,i-e[n]):null;i<e[s=n+Math.trunc((o-n)*.5)]?o=s:n=s}while(n<o)}function e4(t,e){return t.getValid(e)}function e8(t){function e(e,i,r){return t(e[i],r)}return function(t){return e6(this.data,this._offsets,t,e)}}function e5(t){let e;function i(i,r,n){return t(i[r],n,e)}return function(t,r){let n=this.data;e=r;let s=e6(n,this._offsets,t,i);return e=void 0,s}}function e7(t){let e;function i(i,r,n){let s=n,o=0,a=0;for(let n=r-1,l=i.length;++n<l;){let r=i[n];if(~(o=t(r,e,s)))return a+o;s=0,a+=r.length}return -1}return function(t,r){e=t;let n=this.data,s="number"!=typeof r?i(n,0,0):e6(n,this._offsets,r,i);return e=void 0,s}}function e9(t,e,i,r){return(i&1<<r)!=0}function it(t,e,i,r){return(i&1<<r)>>r}function ie(t,e,i){let r=i.byteLength+7&-8;if(t>0||i.byteLength<r){let n=new Uint8Array(r);return n.set(t%8==0?i.subarray(t>>3):ii(new ir(i,t,e,null,e9)).subarray(0,r)),n}return i}function ii(t){let e=[],i=0,r=0,n=0;for(let s of t)s&&(n|=1<<r),8==++r&&(e[i++]=n,n=r=0);(0===i||r>0)&&(e[i++]=n);let s=new Uint8Array(e.length+7&-8);return s.set(e),s}class ir{constructor(t,e,i,r,n){this.bytes=t,this.length=i,this.context=r,this.get=n,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function is(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)*16843009>>>24}class io extends tM{}function ia(t,e,i){if(void 0===e)return -1;if(null===e)switch(t.typeId){case i1.Union:case i1.Dictionary:break;default:return function(t,e){let{nullBitmap:i}=t;if(!i||t.nullCount<=0)return -1;let r=0;for(let n of new ir(i,t.offset+(e||0),t.length,i,e9)){if(!n)return r;++r}return -1}(t,i)}let r=eY.getVisitFn(t),n=eJ(e);for(let e=(i||0)-1,s=t.length;++e<s;)if(n(r(t,e)))return e;return -1}function il(t,e,i){let r=eY.getVisitFn(t),n=eJ(e);for(let e=(i||0)-1,s=t.length;++e<s;)if(n(r(t,e)))return e;return -1}io.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},io.prototype.visitBool=ia,io.prototype.visitInt=ia,io.prototype.visitInt8=ia,io.prototype.visitInt16=ia,io.prototype.visitInt32=ia,io.prototype.visitInt64=ia,io.prototype.visitUint8=ia,io.prototype.visitUint16=ia,io.prototype.visitUint32=ia,io.prototype.visitUint64=ia,io.prototype.visitFloat=ia,io.prototype.visitFloat16=ia,io.prototype.visitFloat32=ia,io.prototype.visitFloat64=ia,io.prototype.visitUtf8=ia,io.prototype.visitBinary=ia,io.prototype.visitFixedSizeBinary=ia,io.prototype.visitDate=ia,io.prototype.visitDateDay=ia,io.prototype.visitDateMillisecond=ia,io.prototype.visitTimestamp=ia,io.prototype.visitTimestampSecond=ia,io.prototype.visitTimestampMillisecond=ia,io.prototype.visitTimestampMicrosecond=ia,io.prototype.visitTimestampNanosecond=ia,io.prototype.visitTime=ia,io.prototype.visitTimeSecond=ia,io.prototype.visitTimeMillisecond=ia,io.prototype.visitTimeMicrosecond=ia,io.prototype.visitTimeNanosecond=ia,io.prototype.visitDecimal=ia,io.prototype.visitList=ia,io.prototype.visitStruct=ia,io.prototype.visitUnion=ia,io.prototype.visitDenseUnion=il,io.prototype.visitSparseUnion=il,io.prototype.visitDictionary=ia,io.prototype.visitInterval=ia,io.prototype.visitIntervalDayTime=ia,io.prototype.visitIntervalYearMonth=ia,io.prototype.visitDuration=ia,io.prototype.visitDurationSecond=ia,io.prototype.visitDurationMillisecond=ia,io.prototype.visitDurationMicrosecond=ia,io.prototype.visitDurationNanosecond=ia,io.prototype.visitFixedSizeList=ia,io.prototype.visitMap=ia;let iu=new io;class ic extends tM{}function ih(t){let{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===i1.Timestamp||e instanceof ti&&64!==e.bitWidth||e instanceof tv&&64!==e.bitWidth||e instanceof th&&e.precision!==iK.HALF))return new e0(t.data.length,e=>{let i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()});let i=0;return new e0(t.data.length,e=>{let r=t.data[e].length,n=t.slice(i,i+r);return i+=r,new id(n)})}class id{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}ic.prototype.visitNull=ih,ic.prototype.visitBool=ih,ic.prototype.visitInt=ih,ic.prototype.visitInt8=ih,ic.prototype.visitInt16=ih,ic.prototype.visitInt32=ih,ic.prototype.visitInt64=ih,ic.prototype.visitUint8=ih,ic.prototype.visitUint16=ih,ic.prototype.visitUint32=ih,ic.prototype.visitUint64=ih,ic.prototype.visitFloat=ih,ic.prototype.visitFloat16=ih,ic.prototype.visitFloat32=ih,ic.prototype.visitFloat64=ih,ic.prototype.visitUtf8=ih,ic.prototype.visitBinary=ih,ic.prototype.visitFixedSizeBinary=ih,ic.prototype.visitDate=ih,ic.prototype.visitDateDay=ih,ic.prototype.visitDateMillisecond=ih,ic.prototype.visitTimestamp=ih,ic.prototype.visitTimestampSecond=ih,ic.prototype.visitTimestampMillisecond=ih,ic.prototype.visitTimestampMicrosecond=ih,ic.prototype.visitTimestampNanosecond=ih,ic.prototype.visitTime=ih,ic.prototype.visitTimeSecond=ih,ic.prototype.visitTimeMillisecond=ih,ic.prototype.visitTimeMicrosecond=ih,ic.prototype.visitTimeNanosecond=ih,ic.prototype.visitDecimal=ih,ic.prototype.visitList=ih,ic.prototype.visitStruct=ih,ic.prototype.visitUnion=ih,ic.prototype.visitDenseUnion=ih,ic.prototype.visitSparseUnion=ih,ic.prototype.visitDictionary=ih,ic.prototype.visitInterval=ih,ic.prototype.visitIntervalDayTime=ih,ic.prototype.visitIntervalYearMonth=ih,ic.prototype.visitDuration=ih,ic.prototype.visitDurationSecond=ih,ic.prototype.visitDurationMillisecond=ih,ic.prototype.visitDurationMicrosecond=ih,ic.prototype.visitDurationNanosecond=ih,ic.prototype.visitFixedSizeList=ih,ic.prototype.visitMap=ih;let ip=new ic,iy=(t,e)=>t+e;class ib extends tM{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===iZ.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitDuration(t,e){return 8}visitStruct(t,e){return t.children.reduce((t,i)=>t+i_.visit(i,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((t,i)=>t+i_.visit(i,e),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}let im=({type:t,children:e,typeIds:i,valueOffsets:r},n)=>{let s=t.typeIdToChildIndex[i[n]];return 8+i_.visit(e[s],r[n])},ig=({children:t},e)=>4+i_.visitMany(t,t.map(()=>e)).reduce(iy,0);ib.prototype.visitUtf8=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),ib.prototype.visitBinary=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),ib.prototype.visitList=({valueOffsets:t,stride:e,children:i},r)=>{let n=i[0],{[r*e]:s}=t,{[r*e+1]:o}=t,a=i_.getVisitFn(n.type),l=n.slice(s,o-s),u=8;for(let t=-1,e=o-s;++t<e;)u+=a(l,t);return u},ib.prototype.visitFixedSizeList=({stride:t,children:e},i)=>{let r=e[0],n=r.slice(i*t,t),s=i_.getVisitFn(r.type),o=0;for(let t=-1,e=n.length;++t<e;)o+=s(n,t);return o},ib.prototype.visitUnion=(t,e)=>t.type.mode===iQ.Dense?im(t,e):ig(t,e),ib.prototype.visitDenseUnion=im,ib.prototype.visitSparseUnion=ig;let i_=new ib,iv={},iw={};class iI{constructor(t){var e,i,r;let n=t[0]instanceof iI?t.flatMap(t=>t.data):t;if(0===n.length||n.some(t=>!(t instanceof iT)))throw TypeError("Vector constructor expects an Array of Data instances.");let s=null===(e=n[0])||void 0===e?void 0:e.type;switch(n.length){case 0:this._offsets=[0];break;case 1:{let{get:t,set:e,indexOf:i,byteLength:r}=iv[s.typeId],o=n[0];this.isValid=t=>e4(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>r(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,iw[s.typeId]),this._offsets=e2(n)}this.data=n,this.type=s,this.stride=tF(s),this.numChildren=null!==(r=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==r?r:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,e)=>t+e.byteLength,0)}get nullCount(){return e1(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${i1[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return -1}includes(t,e){return this.indexOf(t,e)>-1}getByteLength(t){return 0}[Symbol.iterator](){return ip.visit(this)}concat(...t){return new iI(this.data.concat(t.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new iI(eQ(this,t,e,({data:t,_offsets:e},i,r)=>e3(t,e,i,r)))}toJSON(){return[...this]}toArray(){let{type:t,data:e,length:i,stride:r,ArrayType:n}=this;switch(t.typeId){case i1.Int:case i1.Float:case i1.Decimal:case i1.Time:case i1.Timestamp:switch(e.length){case 0:return new n;case 1:return e[0].values.subarray(0,i*r);default:return e.reduce((t,{values:e,length:i})=>(t.array.set(e.subarray(0,i*r),t.offset),t.offset+=i*r,t),{array:new n(i*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new iI(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return!!tt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(tt.isDictionary(this.type)){let t=new iS(this.data[0].dictionary);return new iI(this.data.map(e=>{let i=e.clone();return i.dictionary=t,i}))}return new iS(this)}unmemoize(){if(tt.isDictionary(this.type)&&this.isMemoized){let t=this.data[0].dictionary.unmemoize();return new iI(this.data.map(e=>{let i=e.clone();return i.dictionary=t,i}))}return this}}iI[Symbol.toStringTag]=(t=>{for(let e of(t.type=tt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0,Object.keys(i1).map(t=>i1[t]).filter(t=>"number"==typeof t&&t!==i1.NONE))){let i=eY.getVisitFnByTypeId(e),r=ea.getVisitFnByTypeId(e),n=iu.getVisitFnByTypeId(e),s=i_.getVisitFnByTypeId(e);iv[e]={get:i,set:r,indexOf:n,byteLength:s},iw[e]=Object.create(t,{isValid:{value:e8(e4)},get:{value:e8(eY.getVisitFnByTypeId(e))},set:{value:e5(ea.getVisitFnByTypeId(e))},indexOf:{value:e7(iu.getVisitFnByTypeId(e))},getByteLength:{value:e8(i_.getVisitFnByTypeId(e))}})}return"Vector"})(iI.prototype);class iS extends iI{constructor(t){super(t.data);let e=this.get,i=this.set,r=this.slice,n=Array(this.length);Object.defineProperty(this,"get",{value(t){let i=n[t];if(void 0!==i)return i;let r=e.call(this,t);return n[t]=r,r}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),n[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new iS(r.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new iI(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class iT{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(0!==this._nullCount){let{type:t}=this;return tt.isSparseUnion(t)?this.children.some(t=>t.nullable):tt.isDenseUnion(t)?this.children.some(t=>t.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0,{valueOffsets:e,values:i,nullBitmap:r,typeIds:n}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),n&&(t+=n.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t;if(tt.isUnion(this.type))return this.children.reduce((t,e)=>t+e.nullCount,0);let e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-function t(e,i,r){if(r-i<=0)return 0;if(r-i<8){let t=0;for(let n of new ir(e,i,r-i,e,it))t+=n;return t}let n=r>>3<<3,s=i+(i%8==0?0:8-i%8);return t(e,i,s)+t(e,n,r)+function(t,e,i){let r=0,n=Math.trunc(e),s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:n+i;for(;o-n>=4;)r+=is(s.getUint32(n)),n+=4;for(;o-n>=2;)r+=is(s.getUint16(n)),n+=2;for(;o-n>=1;)r+=is(s.getUint8(n)),n+=1;return r}(e,s>>3,n-s>>3)}(t,this.offset,this.offset+this.length)),e}constructor(t,e,i,r,n,s=[],o){let a;this.type=t,this.children=s,this.dictionary=o,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),n instanceof iT?(this.stride=n.stride,this.values=n.values,this.typeIds=n.typeIds,this.nullBitmap=n.nullBitmap,this.valueOffsets=n.valueOffsets):(this.stride=tF(t),n&&((a=n[0])&&(this.valueOffsets=a),(a=n[1])&&(this.values=a),(a=n[2])&&(this.nullBitmap=a),(a=n[3])&&(this.typeIds=a)))}getValid(t){let{type:e}=this;if(tt.isUnion(e)){let i=this.children[e.typeIdToChildIndex[this.typeIds[t]]],r=e.mode===iQ.Dense?this.valueOffsets[t]:t;return i.getValid(r)}if(this.nullable&&this.nullCount>0){let e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!=0}return!0}setValid(t,e){let i;let{type:r}=this;if(tt.isUnion(r)){let n=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===iQ.Dense?this.valueOffsets[t]:t;i=n.getValid(s),n.setValid(s,e)}else{let{nullBitmap:r}=this,{offset:n,length:s}=this,o=n+t,a=1<<o%8,l=o>>3;(!r||r.byteLength<=l)&&(r=new Uint8Array((n+s+63&-64)>>3).fill(255),this.nullCount>0&&r.set(ie(n,s,this.nullBitmap),0),Object.assign(this,{nullBitmap:r,_nullCount:-1}));let u=r[l];i=(u&a)!=0,e?r[l]=u|a:r[l]=u&~a}return!!e!==i&&(this._nullCount=this.nullCount+(e?-1:1)),e}clone(t=this.type,e=this.offset,i=this.length,r=this._nullCount,n=this,s=this.children){return new iT(t,e,i,r,n,s,this.dictionary)}slice(t,e){let{stride:i,typeId:r,children:n}=this,s=+(0===this._nullCount)-1,o=16===r?i:1,a=this._sliceBuffers(t,e,i,r);return this.clone(this.type,this.offset+t,e,s,a,0===n.length||this.valueOffsets?n:this._sliceChildren(n,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===i1.Null)return this.clone(this.type,0,t,0);let{length:e,nullCount:i}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);r[e>>3]=(1<<e-(-8&e))-1,i>0&&r.set(ie(this.offset,e,this.nullBitmap),0);let n=this.buffers;return n[i2.VALIDITY]=r,this.clone(this.type,0,t,i+(t-e),n)}_sliceBuffers(t,e,i,r){let n;let{buffers:s}=this;return(n=s[i2.TYPE])&&(s[i2.TYPE]=n.subarray(t,t+e)),(n=s[i2.OFFSET])&&(s[i2.OFFSET]=n.subarray(t,t+e+1))||(n=s[i2.DATA])&&(s[i2.DATA]=6===r?n:n.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map(t=>t.slice(e,i))}}iT.prototype.children=Object.freeze([]);class iE extends tM{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){let{type:e,offset:i=0,length:r=0}=t;return new iT(e,i,r,r)}visitBool(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length>>3,nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitInt(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length,nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitFloat(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length,nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitUtf8(t){let{type:e,offset:i=0}=t,r=P(t.data),n=P(t.nullBitmap),s=x(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iT(e,i,o,a,[s,r,n])}visitBinary(t){let{type:e,offset:i=0}=t,r=P(t.data),n=P(t.nullBitmap),s=x(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iT(e,i,o,a,[s,r,n])}visitFixedSizeBinary(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitDate(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitTimestamp(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitTime(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitDecimal(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitList(t){let{type:e,offset:i=0,child:r}=t,n=P(t.nullBitmap),s=x(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iT(e,i,o,a,[s,void 0,n],[r])}visitStruct(t){let{type:e,offset:i=0,children:r=[]}=t,n=P(t.nullBitmap),{length:s=r.reduce((t,{length:e})=>Math.max(t,e),0),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,void 0,n],r)}visitUnion(t){let{type:e,offset:i=0,children:r=[]}=t,n=L(e.ArrayType,t.typeIds),{length:s=n.length,nullCount:o=-1}=t;return tt.isSparseUnion(e)?new iT(e,i,s,o,[void 0,void 0,void 0,n],r):new iT(e,i,s,o,[x(t.valueOffsets),void 0,void 0,n],r)}visitDictionary(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.indices.ArrayType,t.data),{dictionary:s=new iI([new iE().visit({type:e.dictionary})])}=t,{length:o=n.length,nullCount:a=t.nullBitmap?-1:0}=t;return new iT(e,i,o,a,[void 0,n,r],[],s)}visitInterval(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitDuration(t){let{type:e,offset:i=0}=t,r=P(t.nullBitmap),n=L(e.ArrayType,t.data),{length:s=n.length,nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,n,r])}visitFixedSizeList(t){let{type:e,offset:i=0,child:r=new iE().visit({type:e.valueType})}=t,n=P(t.nullBitmap),{length:s=r.length/tF(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iT(e,i,s,o,[void 0,void 0,n],[r])}visitMap(t){let{type:e,offset:i=0,child:r=new iE().visit({type:e.childType})}=t,n=P(t.nullBitmap),s=x(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iT(e,i,o,a,[s,void 0,n],[r])}}let iA=new iE;function iO(t){return iA.visit(t)}class iB{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,r){return t.prep(8,24),t.writeInt64(BigInt(null!=r?r:0)),t.pad(4),t.writeInt32(i),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}let iD=new Int32Array(2),iN=new Float32Array(iD.buffer),iR=new Float64Array(iD.buffer),iF=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];(rC=i3||(i3={}))[rC.UTF8_BYTES=1]="UTF8_BYTES",rC[rC.UTF16_STRING=2]="UTF16_STRING";class iM{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new iM(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return iD[0]=this.readInt32(t),iN[0]}readFloat64(t){return iD[iF?0:1]=this.readInt32(t),iD[iF?1:0]=this.readInt32(t+4),iR[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){iN[0]=e,this.writeInt32(t,iD[0])}writeFloat64(t,e){iR[0]=e,this.writeInt32(t,iD[iF?0:1]),this.writeInt32(t+4,iD[iF?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){let i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);let i=this.readInt32(t);t+=4;let r=this.bytes_.subarray(t,t+i);return e===i3.UTF8_BYTES?r:this.text_decoder_.decode(r)}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createScalarList(t,e){let i=[];for(let r=0;r<e;++r){let e=t(r);null!==e&&i.push(e)}return i}createObjList(t,e){let i=[];for(let r=0;r<e;++r){let e=t(r);null!==e&&i.push(e.unpack())}return i}}class iU{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder,e=t||1024,this.bb=iM.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);let i=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<i+t+e;){let t=this.bb.capacity();this.bb=iU.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){(this.force_defaults||e!==i)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){let e=t.capacity();if(3221225472&e)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let i=e<<1,r=iM.allocate(i);return r.setPosition(i-e),r.bytes().set(t.bytes(),i-e),r}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let t=this.offset(),e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);let i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);let r=(i+2)*2;this.addInt16(r);let n=0,s=this.space;t:for(e=0;e<this.vtables.length;e++){let t=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(t)){for(let e=2;e<r;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;n=this.vtables[e];break}}return n?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,n-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){let r=i?4:0;if(e){if(this.prep(this.minalign,8+r),4!=e.length)throw TypeError("FlatBuffers: file identifier must be length 4");for(let t=3;t>=0;t--)this.writeInt8(e.charCodeAt(t))}this.prep(this.minalign,4+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){let i=this.bb.capacity()-t,r=i-this.bb.readInt32(i);if(!(e<this.bb.readInt16(r)&&0!=this.bb.readInt16(r+e)))throw TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);let e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){let e;if(null==t)return 0;e=t instanceof Uint8Array?t:this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let t=0,i=this.space,r=this.bb.bytes();t<e.length;t++)r[i++]=e[t];return this.endVector()}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){let e=[];for(let i=0;i<t.length;++i){let r=t[i];if(null!==r)e.push(this.createObjectOffset(r));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}}class iC{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new iC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new iC).__init(t.readInt32(t.position())+t.position(),t)}key(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return iC.startKeyValue(t),iC.addKey(t,e),iC.addValue(t,i),iC.endKeyValue(t)}}(rL=i6||(i6={}))[rL.V1=0]="V1",rL[rL.V2=1]="V2",rL[rL.V3=2]="V3",rL[rL.V4=3]="V4",rL[rL.V5=4]="V5",(rx=i4||(i4={}))[rx.Little=0]="Little",rx[rx.Big=1]="Big",(rP=i8||(i8={}))[rP.DenseArray=0]="DenseArray";class iL{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new iL).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new iL).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return iL.startInt(t),iL.addBitWidth(t,e),iL.addIsSigned(t,i),iL.endInt(t)}}class ix{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new ix).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new ix).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new iL).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):i8.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,i8.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}(rk=i5||(i5={}))[rk.NONE=0]="NONE",rk[rk.Null=1]="Null",rk[rk.Int=2]="Int",rk[rk.FloatingPoint=3]="FloatingPoint",rk[rk.Binary=4]="Binary",rk[rk.Utf8=5]="Utf8",rk[rk.Bool=6]="Bool",rk[rk.Decimal=7]="Decimal",rk[rk.Date=8]="Date",rk[rk.Time=9]="Time",rk[rk.Timestamp=10]="Timestamp",rk[rk.Interval=11]="Interval",rk[rk.List=12]="List",rk[rk.Struct_=13]="Struct_",rk[rk.Union=14]="Union",rk[rk.FixedSizeBinary=15]="FixedSizeBinary",rk[rk.FixedSizeList=16]="FixedSizeList",rk[rk.Map=17]="Map",rk[rk.Duration=18]="Duration",rk[rk.LargeBinary=19]="LargeBinary",rk[rk.LargeUtf8=20]="LargeUtf8",rk[rk.LargeList=21]="LargeList",rk[rk.RunEndEncoded=22]="RunEndEncoded";class iP{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new iP).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new iP).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):i5.NONE}type(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){let e=this.bb.__offset(this.bb_pos,12);return e?(t||new ix).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){let i=this.bb.__offset(this.bb_pos,14);return i?(e||new iP).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,16);return i?(e||new iC).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,i5.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class ik{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new ik).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new ik).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):i4.Little}fields(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new iP).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new iC).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}featuresLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,i4.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,r,n){return ik.startSchema(t),ik.addEndianness(t,e),ik.addFields(t,i),ik.addCustomMetadata(t,r),ik.addFeatures(t,n),ik.endSchema(t)}}class iV{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new iV).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new iV).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):i6.V1}schema(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new ik).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new iB).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){let i=this.bb.__offset(this.bb_pos,10);return i?(e||new iB).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new iC).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,i6.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class iz{constructor(t=[],e,i,r=iq.V5){this.fields=t||[],this.metadata=e||new Map,i||(i=i$(t)),this.dictionaries=i,this.metadataVersion=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){let e=new Set(t);return new iz(this.fields.filter(t=>e.has(t.name)),this.metadata)}selectAt(t){return new iz(t.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(...t){let e=t[0]instanceof iz?t[0]:Array.isArray(t[0])?new iz(t[0]):new iz(t),i=[...this.fields],r=iY(iY(new Map,this.metadata),e.metadata),n=e.fields.filter(t=>{let e=i.findIndex(e=>e.name===t.name);return!~e||(i[e]=t.clone({metadata:iY(iY(new Map,i[e].metadata),t.metadata)}))&&!1}),s=i$(n,new Map);return new iz([...i,...n],r,new Map([...this.dictionaries,...s]))}}iz.prototype.fields=null,iz.prototype.metadata=null,iz.prototype.dictionaries=null;class ij{static new(...t){let[e,i,r,n]=t;return t[0]&&"object"==typeof t[0]&&({name:e}=t[0],void 0===i&&(i=t[0].type),void 0===r&&(r=t[0].nullable),void 0===n&&(n=t[0].metadata)),new ij(`${e}`,i,r,n)}constructor(t,e,i=!1,r){this.name=t,this.type=e,this.nullable=i,this.metadata=r||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,i,r,n]=t;return t[0]&&"object"==typeof t[0]?{name:e=this.name,type:i=this.type,nullable:r=this.nullable,metadata:n=this.metadata}=t[0]:[e=this.name,i=this.type,r=this.nullable,n=this.metadata]=t,ij.new(e,i,r,n)}}function iY(t,e){return new Map([...t||new Map,...e||new Map])}function i$(t,e=new Map){for(let i=-1,r=t.length;++i<r;){let r=t[i].type;if(tt.isDictionary(r)){if(e.has(r.id)){if(e.get(r.id)!==r.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(r.id,r.dictionary)}r.children&&r.children.length>0&&i$(r.children,e)}return e}ij.prototype.type=null,ij.prototype.name=null,ij.prototype.nullable=null,ij.prototype.metadata=null;class iW{static decode(t){t=new iM(P(t));let e=iV.getRootAsFooter(t);return new iG(iz.decode(e.schema(),new Map,e.version()),e)}static encode(t){let e=new iU,i=iz.encode(e,t.schema);for(let i of(iV.startRecordBatchesVector(e,t.numRecordBatches),[...t.recordBatches()].slice().reverse()))iH.encode(e,i);let r=e.endVector();for(let i of(iV.startDictionariesVector(e,t.numDictionaries),[...t.dictionaryBatches()].slice().reverse()))iH.encode(e,i);let n=e.endVector();return iV.startFooter(e),iV.addSchema(e,i),iV.addVersion(e,iq.V5),iV.addRecordBatches(e,r),iV.addDictionaries(e,n),iV.finishFooterBuffer(e,iV.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,e=iq.V5,i,r){this.schema=t,this.version=e,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class iG extends iW{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,e){super(t,e.version()),this._footer=e}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){let e=this._footer.recordBatches(t);if(e)return iH.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){let e=this._footer.dictionaries(t);if(e)return iH.decode(e)}return null}}class iH{static decode(t){return new iH(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){let{metaDataLength:i}=e,r=BigInt(e.offset),n=BigInt(e.bodyLength);return iB.createBlock(t,r,i,n)}constructor(t,e,i){this.metaDataLength=t,this.offset=X(i),this.bodyLength=X(e)}}var iq,iQ,iK,iJ,iZ,iX,i0,i1,i2,i3,i6,i4,i8,i5,i7,i9,rt,re,ri,rr,rn,rs,ro,ra,rl,ru,rc,rh,rd,rf,rp,ry,rb,rm,rg,r_,rv,rw,rI,rS,rT,rE,rA,rO,rB,rD,rN,rR,rF,rM,rU,rC,rL,rx,rP,rk,rV,rz,rj,rY,r$,rW,rG,rH,rq,rQ,rK,rJ,rZ,rX,r0,r1,r2,r3,r6,r4,r8,r5,r7,r9,nt={fromIterable:t=>ne(function*(t){let e,i=!1,r=[],n,s,o,a=0;({cmd:s,size:o}=yield null);let l=V(t)[Symbol.iterator]();try{do if({done:e,value:n}=Number.isNaN(o-a)?l.next():l.next(o-a),!e&&n.byteLength>0&&(r.push(n),a+=n.byteLength),e||o<=a)do({cmd:s,size:o}=yield"peek"===s?C(r,o)[0]:([n,r,a]=C(r,o),n));while(o<a);while(!e)}catch(t){i=!0,"function"==typeof l.throw&&l.throw(t)}finally{!1===i&&"function"==typeof l.return&&l.return(null)}return null}(t)),fromAsyncIterable:t=>ne(function(t){return a(this,arguments,function*(){let e,i=!1,r=[],n,s,a,l=0;({cmd:s,size:a}=yield yield o(null));let u=z(t)[Symbol.asyncIterator]();try{do if({done:e,value:n}=Number.isNaN(a-l)?yield o(u.next()):yield o(u.next(a-l)),!e&&n.byteLength>0&&(r.push(n),l+=n.byteLength),e||a<=l)do({cmd:s,size:a}=yield yield o("peek"===s?C(r,a)[0]:([n,r,l]=C(r,a),n)));while(a<l);while(!e)}catch(t){i=!0,"function"==typeof u.throw&&(yield o(u.throw(t)))}finally{!1===i&&"function"==typeof u.return&&(yield o(u.return(new Uint8Array(0))))}return yield o(null)})}(t)),fromDOMStream:t=>ne(function(t){return a(this,arguments,function*(){let e=!1,i=!1,r=[],n,s,a,l=0;({cmd:s,size:a}=yield yield o(null));let u=new ni(t);try{do if({done:e,value:n}=Number.isNaN(a-l)?yield o(u.read()):yield o(u.read(a-l)),!e&&n.byteLength>0&&(r.push(P(n)),l+=n.byteLength),e||a<=l)do({cmd:s,size:a}=yield yield o("peek"===s?C(r,a)[0]:([n,r,l]=C(r,a),n)));while(a<l);while(!e)}catch(t){i=!0,yield o(u.cancel(t))}finally{!1===i?yield o(u.cancel()):t.locked&&u.releaseLock()}return yield o(null)})}(t)),fromNodeStream:t=>ne(function(t){return a(this,arguments,function*(){let e=[],i="error",r=!1,n=null,s,a,l=0,u=[],c;if({cmd:s,size:a}=yield yield o(null),t.isTTY)return yield yield o(new Uint8Array(0)),yield o(null);try{e[0]=nr(t,"end"),e[1]=nr(t,"error");do{if(e[2]=nr(t,"readable"),[i,n]=yield o(Promise.race(e.map(t=>t[2]))),"error"===i)break;if((r="end"===i)||(Number.isFinite(a-l)?(c=P(t.read(a-l))).byteLength<a-l&&(c=P(t.read())):c=P(t.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),r||a<=l)do({cmd:s,size:a}=yield yield o("peek"===s?C(u,a)[0]:([c,u,l]=C(u,a),c)));while(a<l)}while(!r)}finally{var h;yield o((h="error"===i?n:null,c=u=null,new Promise((i,r)=>{for(let[i,r]of e)t.off(i,r);try{let e=t.destroy;e&&e.call(t,h),h=void 0}catch(t){h=t||h}finally{null!=h?r(h):i()}})))}return yield o(null)})}(t)),toDOMStream(t,e){throw Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw Error('"toNodeStream" not available in this environment')}};let ne=t=>(t.next(),t);class ni{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return s(this,void 0,void 0,function*(){let{reader:e,source:i}=this;e&&(yield e.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return s(this,void 0,void 0,function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};let e=yield this.reader.read();return e.done||(e.value=P(e)),e})}}let nr=(t,e)=>{let i;let r=t=>i([e,t]);return[e,r,new Promise(n=>(i=n)&&t.once(e,r))]},nn=Object.freeze({done:!0,value:void 0});class ns{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class no{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class na extends no{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return s(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(nn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return nt.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return nt.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return s(this,void 0,void 0,function*(){return yield this.abort(t),nn})}return(t){return s(this,void 0,void 0,function*(){return yield this.close(),nn})}read(t){return s(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return s(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,e)=>{this.resolvers.push({resolve:t,reject:e})}):Promise.resolve(nn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}class nl extends na{write(t){if((t=P(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?f(this.toUint8Array(!0)):this.toUint8Array(!1).then(f)}toUint8Array(t=!1){return t?C(this._values)[0]:s(this,void 0,void 0,function*(){var t,e,i,r;let n=[],s=0;try{for(var o,a=!0,l=u(this);!(t=(o=yield l.next()).done);a=!0)r=o.value,a=!1,n.push(r),s+=r.byteLength}catch(t){e={error:t}}finally{try{!a&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(e)throw e.error}}return C(n,s)[0]})}}class nu{constructor(t){t&&(this.source=new nh(nt.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class nc{constructor(t){t instanceof nc?this.source=t.source:t instanceof nl?this.source=new nd(nt.fromAsyncIterable(t)):R(t)?this.source=new nd(nt.fromNodeStream(t)):D(t)?this.source=new nd(nt.fromDOMStream(t)):A(t)?this.source=new nd(nt.fromDOMStream(t.body)):w(t)?this.source=new nd(nt.fromIterable(t)):v(t)?this.source=new nd(nt.fromAsyncIterable(t)):I(t)&&(this.source=new nd(nt.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class nh{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||nn)}return(t){return Object.create(this.source.return&&this.source.return(t)||nn)}}class nd{constructor(t){this.source=t,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(t){return s(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return s(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return s(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return s(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return s(this,void 0,void 0,function*(){let e=this.source.throw&&(yield this.source.throw(t))||nn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return s(this,void 0,void 0,function*(){let e=this.source.return&&(yield this.source.return(t))||nn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class nf extends nu{constructor(t,e){super(),this.position=0,this.buffer=P(t),this.size=void 0===e?this.buffer.byteLength:e}readInt32(t){let{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){let{buffer:e,size:i,position:r}=this;return e&&r<i?("number"!=typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,r+Math.min(i-r,t)),e.subarray(r,this.position)):null}readAt(t,e){let i=this.buffer,r=Math.min(this.size,t+e);return i?i.subarray(t,r):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class np extends nc{constructor(t,e){super(),this.position=0,this._handle=t,"number"==typeof e?this.size=e:this._pending=s(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return s(this,void 0,void 0,function*(){let{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)})}seek(t){return s(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return s(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:e,size:i,position:r}=this;if(e&&r<i){"number"!=typeof t&&(t=Number.POSITIVE_INFINITY);let n=r,s=0,o=0,a=Math.min(i,n+Math.min(i-n,t)),l=new Uint8Array(Math.max(0,(this.position=a)-n));for(;(n+=o)<a&&(s+=o)<l.byteLength;)({bytesRead:o}=yield e.read(l,s,l.byteLength-s,n));return l}return null})}readAt(t,e){return s(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:i,size:r}=this;if(i&&t+e<r){let n=Math.min(r,t+e),s=new Uint8Array(n-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)})}close(){return s(this,void 0,void 0,function*(){let t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return s(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return s(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}function ny(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}let nb=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class nm{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){let e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]),r=e[3]*i[3];this.buffer[0]=65535&r;let n=r>>>16;return n+=(r=e[2]*i[3])+(r=e[3]*i[2]>>>0),this.buffer[0]+=n<<16,this.buffer[1]=n>>>0<r?65536:0,this.buffer[1]+=n>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){let e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${ny(this.buffer[1])} ${ny(this.buffer[0])}`}}class ng extends nm{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return ng.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return ng.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){let i=t.length,r=new ng(e);for(let e=0;e<i;){let n=8<i-e?8:i-e,s=new ng(new Uint32Array([Number.parseInt(t.slice(e,e+n),10),0])),o=new ng(new Uint32Array([nb[n],0]));r.times(o),r.plus(s),e+=n}return r}static convertArray(t){let e=new Uint32Array(2*t.length);for(let i=-1,r=t.length;++i<r;)ng.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new ng(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ng(new Uint32Array(t.buffer)).plus(e)}}class n_ extends nm{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){let e=this.buffer[1]<<0,i=t.buffer[1]<<0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return n_.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return n_.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){let i=t.startsWith("-"),r=t.length,n=new n_(e);for(let e=i?1:0;e<r;){let i=8<r-e?8:r-e,s=new n_(new Uint32Array([Number.parseInt(t.slice(e,e+i),10),0])),o=new n_(new Uint32Array([nb[i],0]));n.times(o),n.plus(s),e+=i}return i?n.negate():n}static convertArray(t){let e=new Uint32Array(2*t.length);for(let i=-1,r=t.length;++i<r;)n_.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new n_(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new n_(new Uint32Array(t.buffer)).plus(e)}}class nv{constructor(t){this.buffer=t}high(){return new n_(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new n_(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){let e=new ng(new Uint32Array([this.buffer[3],0])),i=new ng(new Uint32Array([this.buffer[2],0])),r=new ng(new Uint32Array([this.buffer[1],0])),n=new ng(new Uint32Array([this.buffer[0],0])),s=new ng(new Uint32Array([t.buffer[3],0])),o=new ng(new Uint32Array([t.buffer[2],0])),a=new ng(new Uint32Array([t.buffer[1],0])),l=new ng(new Uint32Array([t.buffer[0],0])),u=ng.multiply(n,l);this.buffer[0]=u.low();let c=new ng(new Uint32Array([u.high(),0]));return u=ng.multiply(r,l),c.plus(u),u=ng.multiply(n,a),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(u)?1:0,this.buffer[2]=c.high(),new ng(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ng.multiply(i,l)).plus(ng.multiply(r,a)).plus(ng.multiply(n,o)),this.buffer[3]+=ng.multiply(e,l).plus(ng.multiply(i,a)).plus(ng.multiply(r,o)).plus(ng.multiply(n,s)).low(),this}plus(t){let e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${ny(this.buffer[3])} ${ny(this.buffer[2])} ${ny(this.buffer[1])} ${ny(this.buffer[0])}`}static multiply(t,e){return new nv(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new nv(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return nv.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return nv.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){let i=t.startsWith("-"),r=t.length,n=new nv(e);for(let e=i?1:0;e<r;){let i=8<r-e?8:r-e,s=new nv(new Uint32Array([Number.parseInt(t.slice(e,e+i),10),0,0,0])),o=new nv(new Uint32Array([nb[i],0,0,0]));n.times(o),n.plus(s),e+=i}return i?n.negate():n}static convertArray(t){let e=new Uint32Array(4*t.length);for(let i=-1,r=t.length;++i<r;)nv.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class nw extends tM{constructor(t,e,i,r,n=iq.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=r,this.metadataVersion=n}visit(t){return super.visit(t instanceof ij?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return iO({type:t,length:e})}visitBool(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t,{length:e,nullCount:i}=this.nextFieldNode()){return this.metadataVersion<iq.V5&&this.readNullBitmap(t,i),t.mode===iQ.Sparse?this.visitSparseUnion(t,{length:e,nullCount:i}):this.visitDenseUnion(t,{length:e,nullCount:i})}visitDenseUnion(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDuration(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:i}=this.nextFieldNode()){return iO({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,i=this.nextBufferRange()){return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class nI extends nw{constructor(t,e,i,r,n){super(new Uint8Array(0),e,i,r,n),this.sources=t}readNullBitmap(t,e,{offset:i}=this.nextBufferRange()){return e<=0?new Uint8Array(0):ii(this.sources[i])}readOffsets(t,{offset:e}=this.nextBufferRange()){return L(Uint8Array,L(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return L(Uint8Array,L(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){let{sources:i}=this;if(tt.isTimestamp(t)||(tt.isInt(t)||tt.isTime(t))&&64===t.bitWidth||tt.isDuration(t)||tt.isDate(t)&&t.unit===iJ.MILLISECOND)return L(Uint8Array,n_.convertArray(i[e]));if(tt.isDecimal(t))return L(Uint8Array,nv.convertArray(i[e]));if(tt.isBinary(t)||tt.isFixedSizeBinary(t))return function(t){let e=t.join(""),i=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2)i[t>>1]=Number.parseInt(e.slice(t,t+2),16);return i}(i[e]);if(tt.isBool(t))return ii(i[e]);if(tt.isUtf8(t))return y(i[e].join(""));return L(Uint8Array,L(t.ArrayType,i[e].map(t=>+t)))}}class nS extends tM{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,i)=>this.compareFields(t,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function nT(t,e){return e instanceof t.constructor}function nE(t,e){return t===e||nT(t,e)}function nA(t,e){return t===e||nT(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function nO(t,e){return t===e||nT(t,e)&&t.precision===e.precision}function nB(t,e){return t===e||nT(t,e)&&t.unit===e.unit}function nD(t,e){return t===e||nT(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function nN(t,e){return t===e||nT(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function nR(t,e){return t===e||nT(t,e)&&t.mode===e.mode&&t.typeIds.every((t,i)=>t===e.typeIds[i])&&nU.compareManyFields(t.children,e.children)}function nF(t,e){return t===e||nT(t,e)&&t.unit===e.unit}function nM(t,e){return t===e||nT(t,e)&&t.unit===e.unit}nS.prototype.visitNull=nE,nS.prototype.visitBool=nE,nS.prototype.visitInt=nA,nS.prototype.visitInt8=nA,nS.prototype.visitInt16=nA,nS.prototype.visitInt32=nA,nS.prototype.visitInt64=nA,nS.prototype.visitUint8=nA,nS.prototype.visitUint16=nA,nS.prototype.visitUint32=nA,nS.prototype.visitUint64=nA,nS.prototype.visitFloat=nO,nS.prototype.visitFloat16=nO,nS.prototype.visitFloat32=nO,nS.prototype.visitFloat64=nO,nS.prototype.visitUtf8=nE,nS.prototype.visitBinary=nE,nS.prototype.visitFixedSizeBinary=function(t,e){return t===e||nT(t,e)&&t.byteWidth===e.byteWidth},nS.prototype.visitDate=nB,nS.prototype.visitDateDay=nB,nS.prototype.visitDateMillisecond=nB,nS.prototype.visitTimestamp=nD,nS.prototype.visitTimestampSecond=nD,nS.prototype.visitTimestampMillisecond=nD,nS.prototype.visitTimestampMicrosecond=nD,nS.prototype.visitTimestampNanosecond=nD,nS.prototype.visitTime=nN,nS.prototype.visitTimeSecond=nN,nS.prototype.visitTimeMillisecond=nN,nS.prototype.visitTimeMicrosecond=nN,nS.prototype.visitTimeNanosecond=nN,nS.prototype.visitDecimal=nE,nS.prototype.visitList=function(t,e){return t===e||nT(t,e)&&t.children.length===e.children.length&&nU.compareManyFields(t.children,e.children)},nS.prototype.visitStruct=function(t,e){return t===e||nT(t,e)&&t.children.length===e.children.length&&nU.compareManyFields(t.children,e.children)},nS.prototype.visitUnion=nR,nS.prototype.visitDenseUnion=nR,nS.prototype.visitSparseUnion=nR,nS.prototype.visitDictionary=function(t,e){return t===e||nT(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&nU.visit(t.indices,e.indices)&&nU.visit(t.dictionary,e.dictionary)},nS.prototype.visitInterval=nF,nS.prototype.visitIntervalDayTime=nF,nS.prototype.visitIntervalYearMonth=nF,nS.prototype.visitDuration=nM,nS.prototype.visitDurationSecond=nM,nS.prototype.visitDurationMillisecond=nM,nS.prototype.visitDurationMicrosecond=nM,nS.prototype.visitDurationNanosecond=nM,nS.prototype.visitFixedSizeList=function(t,e){return t===e||nT(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&nU.compareManyFields(t.children,e.children)},nS.prototype.visitMap=function(t,e){return t===e||nT(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&nU.compareManyFields(t.children,e.children)};let nU=new nS;function nC(t,e){return nU.compareSchemas(t,e)}function nL(t,e){return function(t,e){let i=[...t.fields],r=[],n={numBatches:e.reduce((t,e)=>Math.max(t,e.length),0)},s=0,o=0,a=-1,l=e.length,u,c=[];for(;n.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=function(t,e,i,r,n){var s;let o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){let l=i[a],u=null==l?void 0:l.length;if(u>=e)u===e?i[a]=l:(i[a]=l.slice(0,e),n.numBatches=Math.max(n.numBatches,r[a].unshift(l.slice(e,u-e))));else{let r=t[a];t[a]=r.clone({nullable:!0}),i[a]=null!==(s=null==l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:iO({type:r.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}(i,o,c,e,n),o>0&&(r[s++]=iO({type:new tE(i),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(i),r.map(e=>new nP(t,e))]}(t,e.map(t=>t.data.concat()))}class nx{constructor(...t){var e,i;let r,n;if(0===t.length)return this.batches=[],this.schema=new iz([]),this._offsets=[0],this;t[0]instanceof iz&&(r=t.shift()),t.at(-1) instanceof Uint32Array&&(n=t.pop());let s=t=>{if(t){if(t instanceof nP)return[t];if(t instanceof nx)return t.batches;if(t instanceof iT){if(t.type instanceof tE)return[new nP(new iz(t.type.children),t)]}else if(Array.isArray(t))return t.flatMap(t=>s(t));else if("function"==typeof t[Symbol.iterator])return[...t].flatMap(t=>s(t));else if("object"==typeof t){let e=Object.keys(t),i=e.map(e=>new iI([t[e]])),[,r]=nL(new iz(e.map((t,e)=>new ij(String(t),i[e].type))),i);return 0===r.length?[new nP(t)]:r}}return[]},o=t.flatMap(t=>s(t));if(!((r=null!==(i=null!=r?r:null===(e=o[0])||void 0===e?void 0:e.schema)&&void 0!==i?i:new iz([]))instanceof iz))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let t of o){if(!(t instanceof nP))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!nC(r,t.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=o,this._offsets=null!=n?n:e2(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return -1===this._nullCount&&(this._nullCount=e1(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return -1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?ip.visit(new iI(this.data)):[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(",\n  ")}
]`}concat(...t){let e=this.schema;return new nx(e,this.data.concat(t.flatMap(({data:t})=>t)).map(t=>new nP(e,t)))}slice(t,e){let i=this.schema;return[t,e]=eQ({length:this.numRows},t,e),new nx(i,e3(this.data,this._offsets,t,e).map(t=>new nP(i,t)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){let e=this.data.map(e=>e.children[t]);if(0===e.length){let{type:i}=this.schema.fields[t],r=iO({type:i,length:0,nullCount:0});e.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new iI(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new iI([iO({type:new te,length:this.numRows})]));let n=i.fields.slice(),s=n[t].clone({type:e.type}),o=this.schema.fields.map((t,e)=>this.getChildAt(e));[n[t],o[t]]=[s,e],[i,r]=nL(i,o)}return new nx(i,r)}select(t){let e=this.schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);return this.selectAt(t.map(t=>e.get(t)).filter(t=>t>-1))}selectAt(t){return new nx(this.schema.selectAt(t),this.batches.map(e=>e.selectAt(t)))}assign(t){let e=this.schema.fields,[i,r]=t.schema.fields.reduce((t,i,r)=>{let[n,s]=t,o=e.findIndex(t=>t.name===i.name);return~o?s[o]=r:n.push(r),t},[[],[]]);return new nx(...nL(this.schema.assign(t.schema),[...e.map((t,e)=>[e,r[e]]).map(([e,i])=>void 0===i?this.getChildAt(e):t.getChildAt(i)),...i.map(e=>t.getChildAt(e))].filter(Boolean)))}}nx[Symbol.toStringTag]=((rV=nx.prototype).schema=null,rV.batches=[],rV._offsets=new Uint32Array([0]),rV._nullCount=-1,rV[Symbol.isConcatSpreadable]=!0,rV.isValid=e8(e4),rV.get=e8(eY.getVisitFn(i1.Struct)),rV.set=e5(ea.getVisitFn(i1.Struct)),rV.indexOf=e7(iu.getVisitFn(i1.Struct)),rV.getByteLength=e8(i_.getVisitFn(i1.Struct)),"Table");class nP{constructor(...t){switch(t.length){case 2:if([this.schema]=t,!(this.schema instanceof iz)||([,this.data=iO({nullCount:0,type:new tE(this.schema.fields),children:this.schema.fields.map(t=>iO({type:t.type,nullCount:0}))})]=t,!(this.data instanceof iT)))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=nk(this.schema,this.data.children);break;case 1:{let[e]=t,{fields:i,children:r,length:n}=Object.keys(e).reduce((t,i,r)=>(t.children[r]=e[i],t.length=Math.max(t.length,e[i].length),t.fields[r]=ij.new({name:i,type:e[i].type,nullable:!0}),t),{length:0,fields:[],children:[]}),s=new iz(i),o=iO({type:new tE(i),length:n,children:r,nullCount:0});[this.schema,this.data]=nk(s,o.children,n);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=function t(e,i,r=new Map){var n,s;if((null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0)>0&&(null==e?void 0:e.length)===(null==i?void 0:i.length))for(let n=-1,o=e.length;++n<o;){let{type:o}=e[n],a=i[n];for(let e of[a,...(null===(s=null==a?void 0:a.dictionary)||void 0===s?void 0:s.data)||[]])t(o.children,null==e?void 0:e.children,r);if(tt.isDictionary(o)){let{id:t}=o;if(r.has(t)){if(r.get(t)!==a.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else(null==a?void 0:a.dictionary)&&r.set(t,a.dictionary)}}return r}(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return eY.visit(this.data,t)}set(t,e){return ea.visit(this.data,t,e)}indexOf(t,e){return iu.visit(this.data,t,e)}getByteLength(t){return i_.visit(this.data,t)}[Symbol.iterator](){return ip.visit(new iI([this.data]))}toArray(){return[...this]}concat(...t){return new nx(this.schema,[this,...t])}slice(t,e){let[i]=new iI([this.data]).slice(t,e).data;return new nP(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new iI([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,r=this.data;if(t>-1&&t<this.numCols){e||(e=new iI([iO({type:new te,length:this.numRows})]));let n=i.fields.slice(),s=r.children.slice(),o=n[t].clone({type:e.type});[n[t],s[t]]=[o,e.data[0]],i=new iz(n,new Map(this.schema.metadata)),r=iO({type:new tE(n),children:s})}return new nP(i,r)}select(t){let e=this.schema.select(t),i=new tE(e.fields),r=[];for(let e of t){let t=this.schema.fields.findIndex(t=>t.name===e);~t&&(r[t]=this.data.children[t])}return new nP(e,iO({type:i,length:this.numRows,children:r}))}selectAt(t){let e=this.schema.selectAt(t),i=t.map(t=>this.data.children[t]).filter(Boolean),r=iO({type:new tE(e.fields),length:this.numRows,children:i});return new nP(e,r)}}function nk(t,e,i=e.reduce((t,e)=>Math.max(t,e.length),0)){var r;let n=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(let[a,l]of t.fields.entries()){let t=e[a];t&&t.length===i||(n[a]=l.clone({nullable:!0}),s[a]=null!==(r=null==t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==r?r:iO({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(n),iO({type:new tE(n),length:i,children:s})]}nP[Symbol.toStringTag]=((rz=nP.prototype)._nullCount=-1,rz[Symbol.isConcatSpreadable]=!0,"RecordBatch");class nV extends nP{constructor(t){super(t,iO({type:new tE(t.fields),nullCount:0,children:t.fields.map(t=>iO({type:t.type}))}))}}(rj=i7||(i7={}))[rj.BUFFER=0]="BUFFER",(rY=i9||(i9={}))[rY.LZ4_FRAME=0]="LZ4_FRAME",rY[rY.ZSTD=1]="ZSTD";class nz{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new nz).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new nz).__init(t.readInt32(t.position())+t.position(),t)}codec(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):i9.LZ4_FRAME}method(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):i7.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,i9.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,i7.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return nz.startBodyCompression(t),nz.addCodec(t,e),nz.addMethod(t,i),nz.endBodyCompression(t)}}class nj{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(BigInt(null!=i?i:0)),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}class nY{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(BigInt(null!=i?i:0)),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}class n${constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new n$).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new n$).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new nY).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new nj).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){let e=this.bb.__offset(this.bb_pos,10);return e?(t||new nz).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class nW{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new nW).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new nW).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new n$).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}(r$=rt||(rt={}))[r$.HALF=0]="HALF",r$[r$.SINGLE=1]="SINGLE",r$[r$.DOUBLE=2]="DOUBLE";class nG{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new nG).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new nG).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rt.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,rt.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return nG.startFloatingPoint(t),nG.addPrecision(t,e),nG.endFloatingPoint(t)}}class nH{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new nH).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new nH).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,r){return nH.startDecimal(t),nH.addPrecision(t,e),nH.addScale(t,i),nH.addBitWidth(t,r),nH.endDecimal(t)}}(rW=re||(re={}))[rW.DAY=0]="DAY",rW[rW.MILLISECOND=1]="MILLISECOND";class nq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new nq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new nq).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):re.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,re.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return nq.startDate(t),nq.addUnit(t,e),nq.endDate(t)}}(rG=ri||(ri={}))[rG.SECOND=0]="SECOND",rG[rG.MILLISECOND=1]="MILLISECOND",rG[rG.MICROSECOND=2]="MICROSECOND",rG[rG.NANOSECOND=3]="NANOSECOND";class nQ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new nQ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new nQ).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ri.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,ri.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return nQ.startTime(t),nQ.addUnit(t,e),nQ.addBitWidth(t,i),nQ.endTime(t)}}class nK{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new nK).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new nK).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ri.SECOND}timezone(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,ri.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return nK.startTimestamp(t),nK.addUnit(t,e),nK.addTimezone(t,i),nK.endTimestamp(t)}}(rH=rr||(rr={}))[rH.YEAR_MONTH=0]="YEAR_MONTH",rH[rH.DAY_TIME=1]="DAY_TIME",rH[rH.MONTH_DAY_NANO=2]="MONTH_DAY_NANO";class nJ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new nJ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new nJ).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,rr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return nJ.startInterval(t),nJ.addUnit(t,e),nJ.endInterval(t)}}class nZ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new nZ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,e){return t.setPosition(t.position()+4),(e||new nZ).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ri.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,ri.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return nZ.startDuration(t),nZ.addUnit(t,e),nZ.endDuration(t)}}(rq=rn||(rn={}))[rq.Sparse=0]="Sparse",rq[rq.Dense=1]="Dense";class nX{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new nX).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new nX).__init(t.readInt32(t.position())+t.position(),t)}mode(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rn.Sparse}typeIds(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,rn.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return nX.startUnion(t),nX.addMode(t,e),nX.addTypeIds(t,i),nX.endUnion(t)}}class n0{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new n0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new n0).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return n0.startFixedSizeBinary(t),n0.addByteWidth(t,e),n0.endFixedSizeBinary(t)}}class n1{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new n1).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new n1).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return n1.startFixedSizeList(t),n1.addListSize(t,e),n1.endFixedSizeList(t)}}class n2{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new n2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new n2).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return n2.startMap(t),n2.addKeysSorted(t,e),n2.endMap(t)}}(rQ=rs||(rs={}))[rQ.NONE=0]="NONE",rQ[rQ.Schema=1]="Schema",rQ[rQ.DictionaryBatch=2]="DictionaryBatch",rQ[rQ.RecordBatch=3]="RecordBatch",rQ[rQ.Tensor=4]="Tensor",rQ[rQ.SparseTensor=5]="SparseTensor";class n3{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new n3).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new n3).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):i6.V1}headerType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):rs.NONE}header(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new iC).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,i6.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,rs.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,BigInt("0"))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,r,n,s){return n3.startMessage(t),n3.addVersion(t,e),n3.addHeaderType(t,i),n3.addHeader(t,r),n3.addBodyLength(t,n),n3.addCustomMetadata(t,s),n3.endMessage(t)}}class n6{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new n6).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new n6).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return n6.startNull(t),n6.endNull(t)}}class n4{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new n4).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new n4).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return n4.startBinary(t),n4.endBinary(t)}}class n8{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new n8).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new n8).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return n8.startBool(t),n8.endBool(t)}}class n5{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new n5).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new n5).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return n5.startUtf8(t),n5.endUtf8(t)}}class n7{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new n7).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new n7).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return n7.startList(t),n7.endList(t)}}class n9{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new n9).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new n9).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return n9.startStruct_(t),n9.endStruct_(t)}}class st extends tM{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return n6.startNull(e),n6.endNull(e)}visitInt(t,e){return iL.startInt(e),iL.addBitWidth(e,t.bitWidth),iL.addIsSigned(e,t.isSigned),iL.endInt(e)}visitFloat(t,e){return nG.startFloatingPoint(e),nG.addPrecision(e,t.precision),nG.endFloatingPoint(e)}visitBinary(t,e){return n4.startBinary(e),n4.endBinary(e)}visitBool(t,e){return n8.startBool(e),n8.endBool(e)}visitUtf8(t,e){return n5.startUtf8(e),n5.endUtf8(e)}visitDecimal(t,e){return nH.startDecimal(e),nH.addScale(e,t.scale),nH.addPrecision(e,t.precision),nH.addBitWidth(e,t.bitWidth),nH.endDecimal(e)}visitDate(t,e){return nq.startDate(e),nq.addUnit(e,t.unit),nq.endDate(e)}visitTime(t,e){return nQ.startTime(e),nQ.addUnit(e,t.unit),nQ.addBitWidth(e,t.bitWidth),nQ.endTime(e)}visitTimestamp(t,e){let i=t.timezone&&e.createString(t.timezone)||void 0;return nK.startTimestamp(e),nK.addUnit(e,t.unit),void 0!==i&&nK.addTimezone(e,i),nK.endTimestamp(e)}visitInterval(t,e){return nJ.startInterval(e),nJ.addUnit(e,t.unit),nJ.endInterval(e)}visitDuration(t,e){return nZ.startDuration(e),nZ.addUnit(e,t.unit),nZ.endDuration(e)}visitList(t,e){return n7.startList(e),n7.endList(e)}visitStruct(t,e){return n9.startStruct_(e),n9.endStruct_(e)}visitUnion(t,e){nX.startTypeIdsVector(e,t.typeIds.length);let i=nX.createTypeIdsVector(e,t.typeIds);return nX.startUnion(e),nX.addMode(e,t.mode),nX.addTypeIds(e,i),nX.endUnion(e)}visitDictionary(t,e){let i=this.visit(t.indices,e);return ix.startDictionaryEncoding(e),ix.addId(e,BigInt(t.id)),ix.addIsOrdered(e,t.isOrdered),void 0!==i&&ix.addIndexType(e,i),ix.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return n0.startFixedSizeBinary(e),n0.addByteWidth(e,t.byteWidth),n0.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return n1.startFixedSizeList(e),n1.addListSize(e,t.listSize),n1.endFixedSizeList(e)}visitMap(t,e){return n2.startMap(e),n2.addKeysSorted(e,t.keysSorted),n2.endMap(e)}}let se=new st;function si(t){return new sl(t.count,function t(e){return(e||[]).reduce((e,i)=>[...e,new sh(i.count,(i.VALIDITY||[]).reduce((t,e)=>t+ +(0===e),0)),...t(i.children)],[])}(t.columns),function t(e,i=[]){for(let r=-1,n=(e||[]).length;++r<n;){let n=e[r];n.VALIDITY&&i.push(new sc(i.length,n.VALIDITY.length)),n.TYPE_ID&&i.push(new sc(i.length,n.TYPE_ID.length)),n.OFFSET&&i.push(new sc(i.length,n.OFFSET.length)),n.DATA&&i.push(new sc(i.length,n.DATA.length)),i=t(n.children,i)}return i}(t.columns))}function sr(t,e){return(t.children||[]).filter(Boolean).map(t=>ij.fromJSON(t,e))}function sn(t=[]){return new Map(t.map(({key:t,value:e})=>[t,e]))}function ss(t){return new ti(t.isSigned,t.bitWidth)}function so(t,e){let i=t.type.name;switch(i){case"NONE":case"null":return new te;case"binary":return new ty;case"utf8":return new tb;case"bool":return new tm;case"list":return new tT((e||[])[0]);case"struct":case"struct_":return new tE(e||[])}switch(i){case"int":{let e=t.type;return new ti(e.isSigned,e.bitWidth)}case"floatingpoint":return new th(iK[t.type.precision]);case"decimal":{let e=t.type;return new tg(e.scale,e.precision,e.bitWidth)}case"date":return new t_(iJ[t.type.unit]);case"time":{let e=t.type;return new tv(iZ[e.unit],e.bitWidth)}case"timestamp":{let e=t.type;return new tw(iZ[e.unit],e.timezone)}case"interval":return new tI(iX[t.type.unit]);case"duration":return new tS(iZ[t.type.unit]);case"union":{let i=t.type,[r,...n]=(i.mode+"").toLowerCase();return new tA(iQ[r.toUpperCase()+n.join("")],i.typeIds||[],e||[])}case"fixedsizebinary":return new tO(t.type.byteWidth);case"fixedsizelist":return new tB(t.type.listSize,(e||[])[0]);case"map":{let i=t.type;return new tD((e||[])[0],i.keysSorted)}}throw Error(`Unrecognized type: "${i}"`)}class sa{static fromJSON(t,e){let i=new sa(0,iq.V5,e);return i._createHeader=()=>{switch(e){case i0.Schema:return iz.fromJSON(t);case i0.RecordBatch:return sl.fromJSON(t);case i0.DictionaryBatch:return su.fromJSON(t)}throw Error(`Unrecognized Message type: { name: ${i0[e]}, type: ${e} }`)},i}static decode(t){t=new iM(P(t));let e=n3.getRootAsMessage(t),i=e.bodyLength(),r=e.version(),n=e.headerType(),s=new sa(i,r,n);return s._createHeader=()=>{switch(n){case i0.Schema:return iz.decode(e.header(new ik),new Map,e.version());case i0.RecordBatch:return sl.decode(e.header(new n$),e.version());case i0.DictionaryBatch:return su.decode(e.header(new nW),e.version())}throw Error(`Unrecognized Message type: { name: ${i0[n]}, type: ${n} }`)},s}static encode(t){let e=new iU,i=-1;return t.isSchema()?i=iz.encode(e,t.header()):t.isRecordBatch()?i=sl.encode(e,t.header()):t.isDictionaryBatch()&&(i=su.encode(e,t.header())),n3.startMessage(e),n3.addVersion(e,iq.V5),n3.addHeader(e,i),n3.addHeaderType(e,t.headerType),n3.addBodyLength(e,BigInt(t.bodyLength)),n3.finishMessageBuffer(e,n3.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof iz)return new sa(0,iq.V5,i0.Schema,t);if(t instanceof sl)return new sa(e,iq.V5,i0.RecordBatch,t);if(t instanceof su)return new sa(e,iq.V5,i0.DictionaryBatch,t);throw Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===i0.Schema}isRecordBatch(){return this.headerType===i0.RecordBatch}isDictionaryBatch(){return this.headerType===i0.DictionaryBatch}constructor(t,e,i,r){this._version=e,this._headerType=i,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength=X(t)}}class sl{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,i){this._nodes=e,this._buffers=i,this._length=X(t)}}class su{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e,i=!1){this._data=t,this._isDelta=i,this._id=X(e)}}class sc{constructor(t,e){this.offset=X(t),this.length=X(e)}}class sh{constructor(t,e){this.length=X(t),this.nullCount=X(e)}}function sd(t,e){let i=[];for(let r,n=-1,s=-1,o=t.childrenLength();++n<o;)(r=t.children(n))&&(i[++s]=ij.decode(r,e));return i}function sf(t){let e=new Map;if(t)for(let i,r,n=-1,s=Math.trunc(t.customMetadataLength());++n<s;)(i=t.customMetadata(n))&&null!=(r=i.key())&&e.set(r,i.value());return e}function sp(t){return new ti(t.isSigned(),t.bitWidth())}function sy(t,e){let i=t.typeType();switch(i){case i5.NONE:case i5.Null:return new te;case i5.Binary:return new ty;case i5.Utf8:return new tb;case i5.Bool:return new tm;case i5.List:return new tT((e||[])[0]);case i5.Struct_:return new tE(e||[])}switch(i){case i5.Int:{let e=t.type(new iL);return new ti(e.isSigned(),e.bitWidth())}case i5.FloatingPoint:return new th(t.type(new nG).precision());case i5.Decimal:{let e=t.type(new nH);return new tg(e.scale(),e.precision(),e.bitWidth())}case i5.Date:return new t_(t.type(new nq).unit());case i5.Time:{let e=t.type(new nQ);return new tv(e.unit(),e.bitWidth())}case i5.Timestamp:{let e=t.type(new nK);return new tw(e.unit(),e.timezone())}case i5.Interval:return new tI(t.type(new nJ).unit());case i5.Duration:return new tS(t.type(new nZ).unit());case i5.Union:{let i=t.type(new nX);return new tA(i.mode(),i.typeIdsArray()||[],e||[])}case i5.FixedSizeBinary:return new tO(t.type(new n0).byteWidth());case i5.FixedSizeList:return new tB(t.type(new n1).listSize(),(e||[])[0]);case i5.Map:{let i=t.type(new n2);return new tD((e||[])[0],i.keysSorted())}}throw Error(`Unrecognized type: "${i5[i]}" (${i})`)}ij.encode=function(t,e){let i=-1,r=-1,n=-1,s=e.type,o=e.typeId;tt.isDictionary(s)?(o=s.dictionary.typeId,n=se.visit(s,t),r=se.visit(s.dictionary,t)):r=se.visit(s,t);let a=(s.children||[]).map(e=>ij.encode(t,e)),l=iP.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?iP.createCustomMetadataVector(t,[...e.metadata].map(([e,i])=>{let r=t.createString(`${e}`),n=t.createString(`${i}`);return iC.startKeyValue(t),iC.addKey(t,r),iC.addValue(t,n),iC.endKeyValue(t)})):-1;return e.name&&(i=t.createString(e.name)),iP.startField(t),iP.addType(t,r),iP.addTypeType(t,o),iP.addChildren(t,l),iP.addNullable(t,!!e.nullable),-1!==i&&iP.addName(t,i),-1!==n&&iP.addDictionary(t,n),-1!==u&&iP.addCustomMetadata(t,u),iP.endField(t)},ij.decode=function(t,e){let i,r,n,s,o,a;return e&&(a=t.dictionary())?(e.has(i=X(a.id()))?(s=(s=a.indexType())?sp(s):new ts,o=new tR(e.get(i),s,i,a.isOrdered())):(s=(s=a.indexType())?sp(s):new ts,e.set(i,n=sy(t,sd(t,e))),o=new tR(n,s,i,a.isOrdered())),r=new ij(t.name(),o,t.nullable(),sf(t))):(n=sy(t,sd(t,e)),r=new ij(t.name(),n,t.nullable(),sf(t))),r||null},ij.fromJSON=function(t,e){let i,r,n,s,o,a;return e&&(s=t.dictionary)?(e.has(i=s.id)?(r=(r=s.indexType)?ss(r):new ts,a=new tR(e.get(i),r,i,s.isOrdered)):(r=(r=s.indexType)?ss(r):new ts,e.set(i,o=so(t,sr(t,e))),a=new tR(o,r,i,s.isOrdered)),n=new ij(t.name,a,t.nullable,sn(t.metadata))):(o=so(t,sr(t,e)),n=new ij(t.name,o,t.nullable,sn(t.metadata))),n||null},iz.encode=function(t,e){let i=e.fields.map(e=>ij.encode(t,e));ik.startFieldsVector(t,i.length);let r=ik.createFieldsVector(t,i),n=e.metadata&&e.metadata.size>0?ik.createCustomMetadataVector(t,[...e.metadata].map(([e,i])=>{let r=t.createString(`${e}`),n=t.createString(`${i}`);return iC.startKeyValue(t),iC.addKey(t,r),iC.addValue(t,n),iC.endKeyValue(t)})):-1;return ik.startSchema(t),ik.addFields(t,r),ik.addEndianness(t,sb?i4.Little:i4.Big),-1!==n&&ik.addCustomMetadata(t,n),ik.endSchema(t)},iz.decode=function(t,e=new Map,i=iq.V5){return new iz(function(t,e){let i=[];for(let r,n=-1,s=-1,o=t.fieldsLength();++n<o;)(r=t.fields(n))&&(i[++s]=ij.decode(r,e));return i}(t,e),sf(t),e,i)},iz.fromJSON=function(t,e=new Map){return new iz((t.fields||[]).filter(Boolean).map(t=>ij.fromJSON(t,e)),sn(t.metadata),e)},sl.encode=function(t,e){let i=e.nodes||[],r=e.buffers||[];for(let e of(n$.startNodesVector(t,i.length),i.slice().reverse()))sh.encode(t,e);let n=t.endVector();for(let e of(n$.startBuffersVector(t,r.length),r.slice().reverse()))sc.encode(t,e);let s=t.endVector();return n$.startRecordBatch(t),n$.addLength(t,BigInt(e.length)),n$.addNodes(t,n),n$.addBuffers(t,s),n$.endRecordBatch(t)},sl.decode=function(t,e=iq.V5){if(null!==t.compression())throw Error("Record batch compression not implemented");return new sl(t.length(),function(t){let e=[];for(let i,r=-1,n=-1,s=t.nodesLength();++r<s;)(i=t.nodes(r))&&(e[++n]=sh.decode(i));return e}(t),function(t,e){let i=[];for(let r,n=-1,s=-1,o=t.buffersLength();++n<o;)(r=t.buffers(n))&&(e<iq.V4&&(r.bb_pos+=8*(n+1)),i[++s]=sc.decode(r));return i}(t,e))},sl.fromJSON=si,su.encode=function(t,e){let i=sl.encode(t,e.data);return nW.startDictionaryBatch(t),nW.addId(t,BigInt(e.id)),nW.addIsDelta(t,e.isDelta),nW.addData(t,i),nW.endDictionaryBatch(t)},su.decode=function(t,e=iq.V5){return new su(sl.decode(t.data(),e),t.id(),t.isDelta())},su.fromJSON=function(t){return new su(si(t.data),t.id,t.isDelta)},sh.encode=function(t,e){return nY.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))},sh.decode=function(t){return new sh(t.length(),t.nullCount())},sc.encode=function(t,e){return nj.createBuffer(t,BigInt(e.offset),BigInt(e.length))},sc.decode=function(t){return new sc(t.offset(),t.length())};let sb=(()=>{let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),sm=t=>`Expected ${i0[t]} Message in stream, but was null or length 0.`,sg=t=>`Header pointer of flatbuffer-encoded ${i0[t]} Message is null or length 0.`,s_=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,sv=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class sw{constructor(t){this.source=t instanceof nu?t:new nu(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?nn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw Error(sm(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);let e=P(this.source.read(t));if(e.byteLength<t)throw Error(sv(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){let e=i0.Schema,i=this.readMessage(e),r=null==i?void 0:i.header();if(t&&!r)throw Error(sg(e));return r}readMetadataLength(){let t=this.source.read(sT),e=t&&new iM(t),i=(null==e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){let e=this.source.read(t);if(!e)return nn;if(e.byteLength<t)throw Error(s_(t,e.byteLength));return{done:!1,value:sa.decode(e)}}}class sI{constructor(t,e){this.source=t instanceof nc?t:E(t)?new np(t,e):new nc(t)}[Symbol.asyncIterator](){return this}next(){return s(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?nn:t})}throw(t){return s(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return s(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return s(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw Error(sm(t));return e.value})}readMessageBody(t){return s(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);let e=P((yield this.source.read(t)));if(e.byteLength<t)throw Error(sv(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return s(this,void 0,void 0,function*(){let e=i0.Schema,i=yield this.readMessage(e),r=null==i?void 0:i.header();if(t&&!r)throw Error(sg(e));return r})}readMetadataLength(){return s(this,void 0,void 0,function*(){let t=yield this.source.read(sT),e=t&&new iM(t),i=(null==e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}})}readMetadata(t){return s(this,void 0,void 0,function*(){let e=yield this.source.read(t);if(!e)return nn;if(e.byteLength<t)throw Error(s_(t,e.byteLength));return{done:!1,value:sa.decode(e)}})}}class sS extends sw{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof ns?t:new ns(t)}next(){let{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:sa.fromJSON(t.schema,i0.Schema)};if(this._dictionaryIndex<t.dictionaries.length){let e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:sa.fromJSON(e,i0.DictionaryBatch)}}if(this._batchIndex<t.batches.length){let e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:sa.fromJSON(e,i0.RecordBatch)}}return this._body=[],nn}readMessageBody(t){return function t(e){return(e||[]).reduce((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE_ID&&[i.TYPE_ID]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)],[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw Error(sm(t));return e.value}readSchema(){let t=i0.Schema,e=this.readMessage(t),i=null==e?void 0:e.header();if(!e||!i)throw Error(sg(t));return i}}let sT=4,sE="ARROW1",sA=new Uint8Array(sE.length);for(let t=0;t<sE.length;t+=1)sA[t]=sE.codePointAt(t);function sO(t,e=0){for(let i=-1,r=sA.length;++i<r;)if(sA[i]!==t[e+i])return!1;return!0}let sB=sA.length,sD=sB+sT,sN=2*sB+sT;class sR extends no{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){let e=this._impl.open(t);return v(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return nt.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return nt.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw Error('"throughDOM" not available in this environment')}static from(t){return t instanceof sR?t:S(t)?new sF(new sz(t)):E(t)?function(t){return s(this,void 0,void 0,function*(){let{size:e}=yield t.stat(),i=new np(t,e);return e>=sN&&sO((yield i.readAt(0,sB+7&-8)))?new sC(new sV(i)):new sM(new sP(i))})}(t):v(t)?s(this,void 0,void 0,function*(){return yield sR.from((yield t))}):A(t)||D(t)||R(t)||I(t)?function(t){return s(this,void 0,void 0,function*(){let e=yield t.peek(sB+7&-8);return e&&e.byteLength>=4?sO(e)?new sU(new sk((yield t.read()))):new sM(new sP(t)):new sM(new sP(function(){return a(this,arguments,function*(){})}()))})}(new nc(t)):function(t){let e=t.peek(sB+7&-8);return e&&e.byteLength>=4?sO(e)?new sU(new sk(t.read())):new sF(new sx(t)):new sF(new sx(function*(){}()))}(new nu(t))}static readAll(t){return t instanceof sR?t.isSync()?sY(t):s$(t):S(t)||ArrayBuffer.isView(t)||w(t)||T(t)?sY(t):s$(t)}}class sF extends sR{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return a(this,arguments,function*(){yield o((yield*l(u(this[Symbol.iterator]()))))})}}class sM extends sR{constructor(t){super(t),this._impl=t}readAll(){var t,e,i,r;return s(this,void 0,void 0,function*(){let n=[];try{for(var s,o=!0,a=u(this);!(t=(s=yield a.next()).done);o=!0)r=s.value,o=!1,n.push(r)}catch(t){e={error:t}}finally{try{!o&&!t&&(i=a.return)&&(yield i.call(a))}finally{if(e)throw e.error}}return n})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class sU extends sF{constructor(t){super(t),this._impl=t}}class sC extends sM{constructor(t){super(t),this._impl=t}}class sL{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){let i=this._loadVectors(t,e,this.schema.fields),r=iO({type:new tE(this.schema.fields),length:t.length,children:i});return new nP(this.schema,r)}_loadDictionaryBatch(t,e){let{id:i,isDelta:r}=t,{dictionaries:n,schema:s}=this,o=n.get(i);if(r||!o){let n=s.dictionaries.get(i),a=this._loadVectors(t.data,e,[n]);return(o&&r?o.concat(new iI(a)):new iI(a)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new nw(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}class sx extends sL{constructor(t,e){super(e),this._reader=S(t)?new sS(this._handle=t):new sw(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=sj(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):nn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):nn}next(){let t;if(this.closed)return nn;let{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let i=t.header(),r=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let i=t.header(),r=e.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,n)}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new nV(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class sP extends sL{constructor(t,e){super(e),this._reader=new sI(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return s(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return s(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=sj(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return s(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):nn})}return(t){return s(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):nn})}next(){return s(this,void 0,void 0,function*(){let t;if(this.closed)return nn;let{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let i=t.header(),r=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let i=t.header(),r=yield e.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,n)}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new nV(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return s(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class sk extends sx{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,e){super(t instanceof nf?t:new nf(t),e)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer)for(let t of(this.schema=(this._footer=this._readFooter()).schema,this._footer.dictionaryBatches()))t&&this._readDictionaryBatch(this._dictionaryIndex++);return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();let i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){let t=this._reader.readMessage(i0.RecordBatch);if(null==t?void 0:t.isRecordBatch()){let e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;let i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){let t=this._reader.readMessage(i0.DictionaryBatch);if(null==t?void 0:t.isDictionaryBatch()){let e=t.header(),i=this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,r)}}}_readFooter(){let{_handle:t}=this,e=t.size-sD,i=t.readInt32(e),r=t.readAt(e-i,i);return iW.decode(r)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class sV extends sP{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...e){super(t instanceof np?t:new np(t,"number"!=typeof e[0]?e.shift():void 0),e[0]instanceof Map?e.shift():void 0)}isFile(){return!0}isAsync(){return!0}open(t){let e=Object.create(null,{open:{get:()=>super.open}});return s(this,void 0,void 0,function*(){if(!this.closed&&!this._footer)for(let t of(this.schema=(this._footer=yield this._readFooter()).schema,this._footer.dictionaryBatches()))t&&(yield this._readDictionaryBatch(this._dictionaryIndex++));return yield e.open.call(this,t)})}readRecordBatch(t){var e;return s(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){let t=yield this._reader.readMessage(i0.RecordBatch);if(null==t?void 0:t.isRecordBatch()){let e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null})}_readDictionaryBatch(t){var e;return s(this,void 0,void 0,function*(){let i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){let t=yield this._reader.readMessage(i0.DictionaryBatch);if(null==t?void 0:t.isDictionaryBatch()){let e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,r)}}})}_readFooter(){return s(this,void 0,void 0,function*(){let{_handle:t}=this;t._pending&&(yield t._pending);let e=t.size-sD,i=yield t.readInt32(e),r=yield t.readAt(e-i,i);return iW.decode(r)})}_readNextMessageAndValidate(t){return s(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class sz extends sx{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new nI(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}function sj(t,e){return e&&"boolean"==typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*sY(t){let e=sR.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function s$(t){return a(this,arguments,function*(){let e=yield o(sR.from(t));try{if(!(yield o(e.open({autoDestroy:!1}))).closed)do yield yield o(e);while(!(yield o(e.reset().open())).closed)}finally{yield o(e.cancel())}})}class sW extends tM{static assemble(...t){let e=t=>t.flatMap(t=>Array.isArray(t)?e(t):t instanceof nP?t.data.children:t.data),i=new sW;return i.visitMany(e(t)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof iI)return this.visitMany(t.data),this;let{type:e}=t;if(!tt.isDictionary(e)){let{length:i}=t;if(i>2147483647)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(tt.isUnion(e))this.nodes.push(new sh(i,0));else{let{nullCount:r}=t;tt.isNull(e)||sG.call(this,r<=0?new Uint8Array(0):ie(t.offset,i,t.nullBitmap)),this.nodes.push(new sh(i,r))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function sG(t){let e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new sc(this._byteLength,e)),this._byteLength+=e,this}function sH(t){return sG.call(this,t.values.subarray(0,t.length*t.stride))}function sq(t){let{length:e,values:i,valueOffsets:r}=t,{0:n,[e]:s}=r,o=Math.min(s-n,i.byteLength-n);return sG.call(this,j(-n,e+1,r)),sG.call(this,i.subarray(n,n+o)),this}function sQ(t){let{length:e,valueOffsets:i}=t;if(i){let{0:r,[e]:n}=i;return sG.call(this,j(-r,e+1,i)),this.visit(t.children[0].slice(r,n-r))}return this.visit(t.children[0])}function sK(t){return this.visitMany(t.type.children.map((e,i)=>t.children[i]).filter(Boolean))[0]}sW.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?sG.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?sG.call(this,ie(t.offset,t.length,e)):sG.call(this,ii(t.values))},sW.prototype.visitInt=sH,sW.prototype.visitFloat=sH,sW.prototype.visitUtf8=sq,sW.prototype.visitBinary=sq,sW.prototype.visitFixedSizeBinary=sH,sW.prototype.visitDate=sH,sW.prototype.visitTimestamp=sH,sW.prototype.visitTime=sH,sW.prototype.visitDecimal=sH,sW.prototype.visitList=sQ,sW.prototype.visitStruct=sK,sW.prototype.visitUnion=function(t){var e;let{type:i,length:r,typeIds:n,valueOffsets:s}=t;if(sG.call(this,n),i.mode===iQ.Sparse)return sK.call(this,t);if(i.mode===iQ.Dense){if(t.offset<=0)return sG.call(this,s),sK.call(this,t);{let o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let t,i,u=-1;++u<r;)void 0!==(t=n[u])&&(void 0===(i=a[t])&&(i=a[t]=s[u]),o[u]=s[u]-i,l[t]=(null!==(e=l[t])&&void 0!==e?e:0)+1);sG.call(this,o),this.visitMany(t.children.map((t,e)=>{let n=i.typeIds[e],s=a[n],o=l[n];return t.slice(s,Math.min(r,o))}))}}return this},sW.prototype.visitInterval=sH,sW.prototype.visitDuration=sH,sW.prototype.visitFixedSizeList=sQ,sW.prototype.visitMap=sQ;class sJ extends no{static throughNode(t){throw Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new nl,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,_(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return v(t)?t.then(t=>this.writeAll(t)):I(t)?s1(this,t):s0(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof nl?this._sink=t:(this._sink=new nl,t&&B(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&N(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&nC(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(null==t)return this.finish()&&void 0;if(t instanceof nx&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof nP&&!(e=t.schema))return this.finish()&&void 0}else throw Error("RecordBatchWriter is closed");if(e&&!nC(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof nP?t instanceof nV||this._writeRecordBatch(t):t instanceof nx?this.writeAll(t.batches):w(t)&&this.writeAll(t)}_writeMessage(t,e=8){let i=e-1,r=sa.encode(t),n=r.byteLength,s=this._writeLegacyIpcFormat?4:8,o=n+s+i&~i;return t.headerType===i0.RecordBatch?this._recordBatchBlocks.push(new iH(o,t.bodyLength,this._position)):t.headerType===i0.DictionaryBatch&&this._dictionaryBlocks.push(new iH(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-s)),n>0&&this._write(r),this._writePadding(o-n-s)}_write(t){if(this._started){let e=P(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(sa.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(sA)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){let{byteLength:e,nodes:i,bufferRegions:r,buffers:n}=sW.assemble(t),s=new sl(t.numRows,i,r),o=sa.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(n)}_writeDictionaryBatch(t,e,i=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));let{byteLength:r,nodes:n,bufferRegions:s,buffers:o}=sW.assemble(new iI([t])),a=new su(new sl(t.length,n,s),e,i),l=sa.from(a,r);return this._writeMessage(l)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,r;for(let n=-1,s=t.length;++n<s;)(e=t[n])&&(i=e.byteLength)>0&&(this._write(e),(r=(i+7&-8)-i)>0&&this._writePadding(r));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null==i?void 0:i.slice(t)).length>0)for(let r of i.data)this._writeDictionaryBatch(r,e,t>0),t+=r.length}return this}}class sZ extends sJ{static writeAll(t,e){let i=new sZ(e);return v(t)?t.then(t=>i.writeAll(t)):I(t)?s1(i,t):s0(i,t)}}class sX extends sJ{static writeAll(t){let e=new sX;return v(t)?t.then(t=>e.writeAll(t)):I(t)?s1(e,t):s0(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){let e=iW.encode(new iW(t,iq.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function s0(t,e){let i=e;for(let r of(e instanceof nx&&(i=e.batches,t.reset(void 0,e.schema)),i))t.write(r);return t.finish()}function s1(t,e){var i,r,n,o,a,l,c;return s(this,void 0,void 0,function*(){try{for(i=!0,r=u(e);!(o=(n=yield r.next()).done);i=!0)c=n.value,i=!1,t.write(c)}catch(t){a={error:t}}finally{try{!i&&!o&&(l=r.return)&&(yield l.call(r))}finally{if(a)throw a.error}}return t.finish()})}var s2=Object.create,s3=Object.defineProperty,s6=Object.getOwnPropertyDescriptor,s4=Object.getOwnPropertyNames,s8=Object.getPrototypeOf,s5=Object.prototype.hasOwnProperty,s7=(rK=(t,e)=>{e.exports=Worker},()=>(rJ||rK((rJ={exports:{}}).exports,rJ),rJ.exports)),s9=((rZ=s9||{})[rZ.UNDEFINED=0]="UNDEFINED",rZ[rZ.AUTOMATIC=1]="AUTOMATIC",rZ[rZ.READ_ONLY=2]="READ_ONLY",rZ[rZ.READ_WRITE=3]="READ_WRITE",rZ),ot=((rX=ot||{})[rX.IDENTIFIER=0]="IDENTIFIER",rX[rX.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",rX[rX.STRING_CONSTANT=2]="STRING_CONSTANT",rX[rX.OPERATOR=3]="OPERATOR",rX[rX.KEYWORD=4]="KEYWORD",rX[rX.COMMENT=5]="COMMENT",rX),oe=((r0=oe||{})[r0.NONE=0]="NONE",r0[r0.DEBUG=1]="DEBUG",r0[r0.INFO=2]="INFO",r0[r0.WARNING=3]="WARNING",r0[r0.ERROR=4]="ERROR",r0),oi=((r1=oi||{})[r1.NONE=0]="NONE",r1[r1.CONNECT=1]="CONNECT",r1[r1.DISCONNECT=2]="DISCONNECT",r1[r1.OPEN=3]="OPEN",r1[r1.QUERY=4]="QUERY",r1[r1.INSTANTIATE=5]="INSTANTIATE",r1),or=((r2=or||{})[r2.NONE=0]="NONE",r2[r2.OK=1]="OK",r2[r2.ERROR=2]="ERROR",r2[r2.START=3]="START",r2[r2.RUN=4]="RUN",r2[r2.CAPTURE=5]="CAPTURE",r2),on=((r3=on||{})[r3.NONE=0]="NONE",r3[r3.WEB_WORKER=1]="WEB_WORKER",r3[r3.NODE_WORKER=2]="NODE_WORKER",r3[r3.BINDINGS=3]="BINDINGS",r3[r3.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",r3),os=((r6=os||{})[r6.SUCCESS=0]="SUCCESS",r6),oo=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),i=sR.from(e);return console.assert(i.isSync(),"Reader is not sync"),console.assert(i.isFile(),"Reader is not file"),new nx(i)}async send(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.startPendingQuery(this._conn,t);for(;null==e;)e=await this._bindings.pollPendingQuery(this._conn);let i=new oa(this._bindings,this._conn,e),r=await sR.from(i);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new ol(this._bindings,this._conn,e)}async insertArrowTable(t,e){let i=function(t,e="stream"){return("stream"===e?sZ:sX).writeAll(t).toUint8Array(!0)}(t,"stream");await this.insertArrowFromIPCStream(i,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},oa=class{constructor(t,e,i){this.db=t,this.conn=e,this.header=i,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){let t;return this._first?(this._first=!1,{done:!1,value:this.header}):this._depleted?{done:!0,value:null}:(null!=this._inFlight?(t=await this._inFlight,this._inFlight=null):t=await this.db.fetchQueryResults(this.conn),this._depleted=0==t.length,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t})}[Symbol.asyncIterator](){return this}},ol=class{constructor(t,e,i){this.bindings=t,this.connectionId=e,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),i=sR.from(e);return console.assert(i.isSync()),console.assert(i.isFile()),new nx(i)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),i=new oa(this.bindings,this.connectionId,e),r=await sR.from(i);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},ou=((r4=ou||{}).CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",r4.CLOSE_PREPARED="CLOSE_PREPARED",r4.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",r4.CONNECT="CONNECT",r4.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",r4.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",r4.CREATE_PREPARED="CREATE_PREPARED",r4.DISCONNECT="DISCONNECT",r4.DROP_FILE="DROP_FILE",r4.DROP_FILES="DROP_FILES",r4.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",r4.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",r4.FLUSH_FILES="FLUSH_FILES",r4.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",r4.GET_TABLE_NAMES="GET_TABLE_NAMES",r4.GET_VERSION="GET_VERSION",r4.GLOB_FILE_INFOS="GLOB_FILE_INFOS",r4.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",r4.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",r4.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",r4.INSTANTIATE="INSTANTIATE",r4.OPEN="OPEN",r4.PING="PING",r4.POLL_PENDING_QUERY="POLL_PENDING_QUERY",r4.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",r4.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",r4.REGISTER_FILE_URL="REGISTER_FILE_URL",r4.RESET="RESET",r4.RUN_PREPARED="RUN_PREPARED",r4.RUN_QUERY="RUN_QUERY",r4.SEND_PREPARED="SEND_PREPARED",r4.START_PENDING_QUERY="START_PENDING_QUERY",r4.TOKENIZE="TOKENIZE",r4),oc=((r8=oc||{}).CONNECTION_INFO="CONNECTION_INFO",r8.ERROR="ERROR",r8.FEATURE_FLAGS="FEATURE_FLAGS",r8.FILE_BUFFER="FILE_BUFFER",r8.FILE_INFOS="FILE_INFOS",r8.FILE_SIZE="FILE_SIZE",r8.FILE_STATISTICS="FILE_STATISTICS",r8.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",r8.LOG="LOG",r8.OK="OK",r8.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",r8.QUERY_PLAN="QUERY_PLAN",r8.QUERY_RESULT="QUERY_RESULT",r8.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",r8.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",r8.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",r8.REGISTERED_FILE="REGISTERED_FILE",r8.SCRIPT_TOKENS="SCRIPT_TOKENS",r8.SUCCESS="SUCCESS",r8.TABLE_NAMES="TABLE_NAMES",r8.VERSION_STRING="VERSION_STRING",r8),oh=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((t,e)=>{this.promiseResolver=t,this.promiseRejecter=e})}};function od(t,e){let i=function t(e){switch(e.typeId){case i1.Binary:return{sqlType:"binary"};case i1.Bool:return{sqlType:"bool"};case i1.Date:return{sqlType:"date"};case i1.DateDay:return{sqlType:"date32[d]"};case i1.DateMillisecond:return{sqlType:"date64[ms]"};case i1.Decimal:return{sqlType:"decimal",precision:e.precision,scale:e.scale};case i1.Float:return{sqlType:"float"};case i1.Float16:return{sqlType:"float16"};case i1.Float32:return{sqlType:"float32"};case i1.Float64:return{sqlType:"float64"};case i1.Int:return{sqlType:"int32"};case i1.Int16:return{sqlType:"int16"};case i1.Int32:return{sqlType:"int32"};case i1.Int64:return{sqlType:"int64"};case i1.Uint16:return{sqlType:"uint16"};case i1.Uint32:return{sqlType:"uint32"};case i1.Uint64:return{sqlType:"uint64"};case i1.Uint8:return{sqlType:"uint8"};case i1.IntervalDayTime:return{sqlType:"interval[dt]"};case i1.IntervalYearMonth:return{sqlType:"interval[m]"};case i1.List:return{sqlType:"list",valueType:t(e.valueType)};case i1.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case i1.Null:return{sqlType:"null"};case i1.Utf8:return{sqlType:"utf8"};case i1.Struct:return{sqlType:"struct",fields:e.children.map(t=>od(t.name,t.type))};case i1.Map:return{sqlType:"map",keyType:t(e.keyType),valueType:t(e.valueType)};case i1.Time:return{sqlType:"time[s]"};case i1.TimeMicrosecond:return{sqlType:"time[us]"};case i1.TimeMillisecond:return{sqlType:"time[ms]"};case i1.TimeNanosecond:return{sqlType:"time[ns]"};case i1.TimeSecond:return{sqlType:"time[s]"};case i1.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case i1.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case i1.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case i1.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case i1.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw Error("unsupported arrow type: ".concat(e.toString()))}(e);return i.name=t,i}var of=new TextEncoder,op=class{constructor(t,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),null!=e&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,e)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let i=this._nextMessageId++;return this._pendingRequests.set(i,t),this._worker.postMessage({messageId:i,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let i=t.data;switch(i.type){case"LOG":this._logger.log(i.data);return;case"INSTANTIATE_PROGRESS":for(let t of this._onInstantiationProgress)t(i.data);return}let r=this._pendingRequests.get(i.requestId);if(!r){console.warn("unassociated response: [".concat(i.requestId,", ").concat(i.type.toString(),"]"));return}if(this._pendingRequests.delete(i.requestId),"ERROR"==i.type){let t=Error(i.data.message);t.name=i.data.name,null!=(e=Object.getOwnPropertyDescriptor(t,"stack"))&&e.writable&&(t.stack=i.data.stack),r.promiseRejecter(t);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if("OK"==i.type){r.promiseResolver(i.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],"OK"==i.type){r.promiseResolver(i.data);return}break;case"GLOB_FILE_INFOS":if("FILE_INFOS"==i.type){r.promiseResolver(i.data);return}break;case"GET_VERSION":if("VERSION_STRING"==i.type){r.promiseResolver(i.data);return}break;case"GET_FEATURE_FLAGS":if("FEATURE_FLAGS"==i.type){r.promiseResolver(i.data);return}break;case"GET_TABLE_NAMES":if("TABLE_NAMES"==i.type){r.promiseResolver(i.data);return}break;case"TOKENIZE":if("SCRIPT_TOKENS"==i.type){r.promiseResolver(i.data);return}break;case"COPY_FILE_TO_BUFFER":if("FILE_BUFFER"==i.type){r.promiseResolver(i.data);return}break;case"EXPORT_FILE_STATISTICS":if("FILE_STATISTICS"==i.type){r.promiseResolver(i.data);return}break;case"CONNECT":if("CONNECTION_INFO"==i.type){r.promiseResolver(i.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if("QUERY_RESULT"==i.type){r.promiseResolver(i.data);return}break;case"SEND_PREPARED":if("QUERY_RESULT_HEADER"==i.type){r.promiseResolver(i.data);return}break;case"START_PENDING_QUERY":case"POLL_PENDING_QUERY":if("QUERY_RESULT_HEADER_OR_NULL"==i.type){r.promiseResolver(i.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],"SUCCESS"==i.type){r.promiseResolver(i.data);return}break;case"FETCH_QUERY_RESULTS":if("QUERY_RESULT_CHUNK"==i.type){r.promiseResolver(i.data);return}break;case"CREATE_PREPARED":if("PREPARED_STATEMENT_ID"==i.type){r.promiseResolver(i.data);return}}r.promiseRejecter(Error("unexpected response type: ".concat(i.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),0!=this._pendingRequests.size){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let t=new oh("RESET",null);return await this.postTask(t)}async ping(){let t=new oh("PING",null);await this.postTask(t)}async dropFile(t){let e=new oh("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new oh("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new oh("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,i=t=>{}){this._onInstantiationProgress.push(i);let r=new oh("INSTANTIATE",[t,e]);return await this.postTask(r)}async getVersion(){let t=new oh("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new oh("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new oh("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new oh("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new oh("CONNECT",null);return await this.postTask(t)}async connect(){return new oo(this,await this.connectInternal())}async disconnect(t){let e=new oh("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let i=new oh("RUN_QUERY",[t,e]);return await this.postTask(i)}async startPendingQuery(t,e){let i=new oh("START_PENDING_QUERY",[t,e]);return await this.postTask(i)}async pollPendingQuery(t){let e=new oh("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new oh("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new oh("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let i=new oh("GET_TABLE_NAMES",[t,e]);return await this.postTask(i)}async createPrepared(t,e){let i=new oh("CREATE_PREPARED",[t,e]);return await this.postTask(i)}async closePrepared(t,e){let i=new oh("CLOSE_PREPARED",[t,e]);await this.postTask(i)}async runPrepared(t,e,i){let r=new oh("RUN_PREPARED",[t,e,i]);return await this.postTask(r)}async sendPrepared(t,e,i){let r=new oh("SEND_PREPARED",[t,e,i]);return await this.postTask(r)}async globFiles(t){let e=new oh("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let i=of.encode(e);await this.registerFileBuffer(t,i)}async registerFileURL(t,e,i,r){void 0===e&&(e=t);let n=new oh("REGISTER_FILE_URL",[t,e,i,r]);await this.postTask(n)}async registerEmptyFileBuffer(t){let e=new oh("REGISTER_FILE_BUFFER",[t,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(t,e){let i=new oh("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(i,[e.buffer])}async registerFileHandle(t,e,i,r){let n=new oh("REGISTER_FILE_HANDLE",[t,e,i,r]);await this.postTask(n,[])}async collectFileStatistics(t,e){let i=new oh("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(i,[])}async exportFileStatistics(t){let e=new oh("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new oh("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let i=new oh("COPY_FILE_TO_PATH",[t,e]);await this.postTask(i)}async insertArrowFromIPCStream(t,e,i){if(0==e.length)return;let r=new oh("INSERT_ARROW_FROM_IPC_STREAM",[t,e,i]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(t,e,i){if(void 0!==i.columns){let t=[];for(let e in i.columns){let r=i.columns[e];t.push(od(e,r))}i.columnsFlat=t,delete i.columns}let r=new oh("IMPORT_CSV_FROM_PATH",[t,e,i]);await this.postTask(r)}async insertJSONFromPath(t,e,i){if(void 0!==i.columns){let t=[];for(let e in i.columns){let r=i.columns[e];t.push(od(e,r))}i.columnsFlat=t,delete i.columns}let r=new oh("IMPORT_JSON_FROM_PATH",[t,e,i]);await this.postTask(r)}},oy=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),ob=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),om=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),og=()=>(async t=>{try{return"u">typeof MessageChannel&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch(t){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),o_={name:"@duckdb/duckdb-wasm",version:"1.28.1-dev106.0"},ov=o_.name,ow=o_.version,oI=o_.version.split(".");oI[0],oI[1],oI[2];var oS=()=>typeof navigator>"u",oT=null,oE=null,oA=null,oO=null,oB=null;async function oD(){return null==oT&&(oT="u">typeof BigInt64Array),null==oE&&(oE=await ob()),null==oA&&(oA=await og()),null==oO&&(oO=await om()),null==oB&&(oB=await oy()),{bigInt64Array:oT,crossOriginIsolated:oS()||globalThis.crossOriginIsolated||!1,wasmExceptions:oE,wasmSIMD:oO,wasmThreads:oA,wasmBulkMemory:oB}}async function oN(t){let e=await oD();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}var oR=(r7=null!=(r5=s7())?s2(s8(r5)):{},((t,e,i,r)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let i of s4(e))s5.call(t,i)||void 0===i||s3(t,i,{get:()=>e[i],enumerable:!(r=s6(e,i))||r.enumerable});return t})(r5&&r5.__esModule?r7:s3(r7,"default",{value:r5,enumerable:!0}),r5));async function oF(t){let e=new Request(t),i=await fetch(e),r=URL.createObjectURL(await i.blob());return new oR.default(r)}n=new TextDecoder,t=>("u">typeof SharedArrayBuffer&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),n.decode(t));var oM=((r9=oM||{})[r9.BUFFER=0]="BUFFER",r9[r9.NODE_FS=1]="NODE_FS",r9[r9.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",r9[r9.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",r9[r9.HTTP=4]="HTTP",r9[r9.S3=5]="S3",r9),oU=Worker,oC=i(6725);i(959);let oL={log:()=>{}};async function ox(){let t="node_modules/@duckdb/duckdb-wasm/dist",e=await oN({mvp:{mainModule:oC.resolve(t,"./duckdb-mvp.wasm"),mainWorker:oC.resolve(t,"./duckdb-node-mvp.worker.cjs")},eh:{mainModule:oC.resolve(t,"./duckdb-eh.wasm"),mainWorker:oC.resolve(t,"./duckdb-node-eh.worker.cjs")}}),i=e.mainWorker;if(i)return{bundle:e,worker:new oU(i)};throw Error(`No mainWorker: ${i}`)}async function oP(){let t;let e=(t="https://cdn.jsdelivr.net/npm/".concat(ov,"@").concat(ow,"/dist/"),{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}),i=await oN(e),r=i.mainWorker;if(r)return{bundle:i,worker:await oF(r)};throw Error(`No mainWorker: ${r}`)}async function ok(t){let e=t?.path??":memory:",i=`duckdb-wasm fetch ${e}`;console.time(i);let{worker:r,bundle:n}=await ("undefined"==typeof window?ox():oP());console.timeEnd(i),console.log("bestBundle:",n);let s=`duckdb-wasm instantiate ${e}`;console.time(s);let o=new op(oL,r);return await o.instantiate(n.mainModule,n.pthreadWorker),await o.open({path:e,query:{castBigIntToDouble:!0}}),console.timeEnd(s),o}async function oV(t,e){let i=await t.connect();return JSON.parse(JSON.stringify((await i.query(e)).toArray()))}},1358:function(t,e,i){"use strict";i.d(e,{b:function(){return s}});var r=i(8588);let n=r.default||r;function s(){let{publicRuntimeConfig:t}=n();if(!t)return"";let{basePath:e=""}=t;return e}},1949:function(t,e,i){"use strict";i.d(e,{F:function(){return o}});var r=i(959),n=i(955),s=i(1358);function o({title:t,description:e,type:i="website",url:o,thumbnail:a,favicon:l,twitterCard:u="summary_large_image",children:c}){let h=(0,s.b)();return l=l||`${h}/favicon.ico`,r.createElement(n,null,r.createElement("title",null,t),r.createElement("link",{rel:"icon",href:l}),r.createElement("meta",{name:"description",content:e}),r.createElement("meta",{property:"og:title",content:t}),r.createElement("meta",{property:"og:description",content:e}),r.createElement("meta",{property:"og:type",content:i}),r.createElement("meta",{property:"og:url",content:o}),r.createElement("meta",{property:"og:image",content:a}),r.createElement("meta",{name:"twitter:title",content:t}),r.createElement("meta",{name:"twitter:description",content:e}),r.createElement("meta",{name:"twitter:image",content:a}),r.createElement("meta",{name:"twitter:card",content:u}),c)}},3105:function(t,e,i){"use strict";i.d(e,{Tf:function(){return c},mr:function(){return f},I_:function(){return y},tL:function(){return h},_F:function(){return d}});var r=i(7149),n=i(959);i(7842);var s=i(1358);let o=({name:t,user:e,title:i,domain:r,src:n,href:s,alt:o})=>(r=r||`${t.toLowerCase()}.com`,i=i||`${e} on ${t}`,n=n||`/${t}.png`,s=s||`https://${r}/${e}`,o=o||`${t} logo`,{name:t,title:i,href:s,src:n,alt:o}),a=n.createElement("svg",{className:"svg twitter",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 248 248"},n.createElement("g",{transform:"translate(0, 22)"},n.createElement("path",{fill:"black",d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04\n		C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66\n		c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64\n		c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76\n		c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26\n		c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"}))),l=n.createElement("svg",{className:"svg instagram",viewBox:"0 0 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},n.createElement("g",null,n.createElement("path",{d:"M127.999746,23.06353 C162.177385,23.06353 166.225393,23.1936027 179.722476,23.8094161 C192.20235,24.3789926 198.979853,26.4642218 203.490736,28.2166477 C209.464938,30.5386501 213.729395,33.3128586 218.208268,37.7917319 C222.687141,42.2706052 225.46135,46.5350617 227.782844,52.5092638 C229.535778,57.0201472 231.621007,63.7976504 232.190584,76.277016 C232.806397,89.7746075 232.93647,93.8226147 232.93647,128.000254 C232.93647,162.177893 232.806397,166.225901 232.190584,179.722984 C231.621007,192.202858 229.535778,198.980361 227.782844,203.491244 C225.46135,209.465446 222.687141,213.729903 218.208268,218.208776 C213.729395,222.687649 209.464938,225.461858 203.490736,227.783352 C198.979853,229.536286 192.20235,231.621516 179.722476,232.191092 C166.227425,232.806905 162.179418,232.936978 127.999746,232.936978 C93.8200742,232.936978 89.772067,232.806905 76.277016,232.191092 C63.7971424,231.621516 57.0196391,229.536286 52.5092638,227.783352 C46.5345536,225.461858 42.2700971,222.687649 37.7912238,218.208776 C33.3123505,213.729903 30.538142,209.465446 28.2166477,203.491244 C26.4637138,198.980361 24.3784845,192.202858 23.808908,179.723492 C23.1930946,166.225901 23.0630219,162.177893 23.0630219,128.000254 C23.0630219,93.8226147 23.1930946,89.7746075 23.808908,76.2775241 C24.3784845,63.7976504 26.4637138,57.0201472 28.2166477,52.5092638 C30.538142,46.5350617 33.3123505,42.2706052 37.7912238,37.7917319 C42.2700971,33.3128586 46.5345536,30.5386501 52.5092638,28.2166477 C57.0196391,26.4642218 63.7971424,24.3789926 76.2765079,23.8094161 C89.7740994,23.1936027 93.8221066,23.06353 127.999746,23.06353 M127.999746,0 C93.2367791,0 88.8783247,0.147348072 75.2257637,0.770274749 C61.601148,1.39218523 52.2968794,3.55566141 44.1546281,6.72008828 C35.7374966,9.99121548 28.5992446,14.3679613 21.4833489,21.483857 C14.3674532,28.5997527 9.99070739,35.7380046 6.71958019,44.1551362 C3.55515331,52.2973875 1.39167714,61.6016561 0.769766653,75.2262718 C0.146839975,88.8783247 0,93.2372872 0,128.000254 C0,162.763221 0.146839975,167.122183 0.769766653,180.774236 C1.39167714,194.398852 3.55515331,203.703121 6.71958019,211.845372 C9.99070739,220.261995 14.3674532,227.400755 21.4833489,234.516651 C28.5992446,241.632547 35.7374966,246.009293 44.1546281,249.28042 C52.2968794,252.444847 61.601148,254.608323 75.2257637,255.230233 C88.8783247,255.85316 93.2367791,256 127.999746,256 C162.762713,256 167.121675,255.85316 180.773728,255.230233 C194.398344,254.608323 203.702613,252.444847 211.844864,249.28042 C220.261995,246.009293 227.400247,241.632547 234.516143,234.516651 C241.632039,227.400755 246.008785,220.262503 249.279912,211.845372 C252.444339,203.703121 254.607815,194.398852 255.229725,180.774236 C255.852652,167.122183 256,162.763221 256,128.000254 C256,93.2372872 255.852652,88.8783247 255.229725,75.2262718 C254.607815,61.6016561 252.444339,52.2973875 249.279912,44.1551362 C246.008785,35.7380046 241.632039,28.5997527 234.516143,21.483857 C227.400247,14.3679613 220.261995,9.99121548 211.844864,6.72008828 C203.702613,3.55566141 194.398344,1.39218523 180.773728,0.770274749 C167.121675,0.147348072 162.762713,0 127.999746,0 Z M127.999746,62.2703115 C91.698262,62.2703115 62.2698034,91.69877 62.2698034,128.000254 C62.2698034,164.301738 91.698262,193.730197 127.999746,193.730197 C164.30123,193.730197 193.729689,164.301738 193.729689,128.000254 C193.729689,91.69877 164.30123,62.2703115 127.999746,62.2703115 Z M127.999746,170.667175 C104.435741,170.667175 85.3328252,151.564259 85.3328252,128.000254 C85.3328252,104.436249 104.435741,85.3333333 127.999746,85.3333333 C151.563751,85.3333333 170.666667,104.436249 170.666667,128.000254 C170.666667,151.564259 151.563751,170.667175 127.999746,170.667175 Z M211.686338,59.6734287 C211.686338,68.1566129 204.809755,75.0337031 196.326571,75.0337031 C187.843387,75.0337031 180.966297,68.1566129 180.966297,59.6734287 C180.966297,51.1902445 187.843387,44.3136624 196.326571,44.3136624 C204.809755,44.3136624 211.686338,51.1902445 211.686338,59.6734287 Z",fill:"black"}))),u=n.createElement("svg",{version:"1.1",className:"svg instagram",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 64 64"},n.createElement("path",{d:"M52,64H12C5.4,64,0,58.6,0,52V12C0,5.4,5.4,0,12,0h40c6.6,0,12,5.4,12,12v40C64,58.6,58.6,64,52,64z M53.9,21c-0.5-2-2.1-3.5-4-4C46.3,16,32,16,32,16s-14.3,0-17.9,1c-2,0.5-3.5,2.1-4,4c-1,3.6-1,11-1,11\n	s0,7.4,1,11c0.5,2,2.1,3.5,4,4c3.6,1,17.9,1,17.9,1s14.3,0,17.9-1c2-0.5,3.5-2.1,4-4c1-3.6,1-11,1-11S54.9,24.6,53.9,21z",fill:"black"}),n.createElement("polygon",{points:"27.4,38.9 39.3,32 27.4,25.1",fill:"black"})),c=(t,e,i)=>o({name:"GitHub",user:t,src:n.createElement("svg",{className:`${e||"svg"} github`,viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"black",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"})),...i}),h=(t,e)=>o({name:"Twitter",user:t,src:a,...e}),d=(t,e)=>o({name:"YouTube",user:t,src:u,...e}),f=(t,e)=>o({name:"Instagram",user:t,src:l,...e});function p({name:t,href:e,src:i,alt:o,title:a,basePath:l}){return void 0===l&&(l=(0,s.b)()),n.createElement("li",{className:"social"},n.createElement(r.Z,{title:a,href:e},"string"==typeof i?n.createElement("img",{alt:o||`${t} logo`,className:"logo",src:`${l||""}${i}`}):i))}function y({socials:t,className:e}){let i=(0,s.b)();return n.createElement("ul",{className:`_1owpgzw0 ${e||""}`},t.map(t=>n.createElement(p,{key:t.name,...t,basePath:i})))}},3479:function(t,e,i){"use strict";i.d(e,{HalfRoundWiden:function(){return y},XN:function(){return g},RY:function(){return b},mB:function(){return m},filterIdxs:function(){return f},filterValues:function(){return p}});var r=i(959);i(5629);var n="vw5g3f1",s=i(7253),o=i(7423),a=i(9965),l=i(1358);let u=o.default||o,c=a(()=>Promise.all([i.e(707),i.e(408)]).then(i.t.bind(i,3408,19)).then(t=>t.default||t),{ssr:!1}),h={t:0,r:15,b:0,l:0};function d({params:t,src:e,alt:i,width:s=800,height:o=450,setXRange:a,basePath:h,className:d}){let[f,p]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[m,g]=(0,r.useState)(!0),_=(0,r.useRef)(null);(0,r.useEffect)(()=>{let t=_.current;if(!t){console.log("No legend");return}m?(t.style.opacity="1",t.style.display=""):(t.style.opacity="0",t.style.display="none")},[m,f]);let{data:v,layout:w,style:I}=t;return o=null!==y?y:"number"==typeof I?.height?I?.height:o,h=h||(0,l.b)()||"",e=`${h}/${e}`,r.createElement("div",{className:d?`${n} ${d}`:`${n}`},r.createElement("div",{className:`fallback ${f?"hidden":""}`,style:{height:`${o}px`,maxHeight:`${o}px`}},e&&r.createElement(r.Fragment,null,r.createElement(u,{src:e,alt:i,width:s,height:o,loading:"lazy"}),r.createElement("div",{className:"spinner"}))),r.createElement(c,{onInitialized:(t,e)=>{let i=e.offsetParent,[r]=e.getElementsByClassName("legend");_.current=r,p(!0),b(i.offsetHeight)},onDoubleClick:()=>{a&&a(null)},onLegendClick:t=>{let{curveNumber:e,data:i}=t,{name:r}=i[e];return console.log(`legend click: ${r}`,t),!0},onLegendDoubleClick:t=>{let{curveNumber:e,data:i}=t,{name:r}=i[e];return console.log(`legend double click ${r}:`,t),!0},onRelayout:t=>{if(console.log("relayout:",t),!("xaxis.range[0]"in t&&"xaxis.range[1]"in t))return;console.log(t);let[e,i]=[t["xaxis.range[0]"],t["xaxis.range[1]"]];console.log("start, end",e,i),console.log("after rounding",e=Math.round(e-.5)+.5,i=Math.round(i+.5)-.5),a&&a([e,i])},className:"plotly",data:v,config:{displayModeBar:!1,scrollZoom:!1,responsive:!0},style:{...I,visibility:f?void 0:"hidden",width:"100%"},layout:w}))}let f=({data:t,xRange:e})=>{let i=Math.round(e[0]),r=Math.round(e[1]);return t.map(({x:t,y:e,...n})=>({x:t.slice(i,r),y:e.slice(i,r),...n}))},p=({keepNull:t,mapRange:e})=>({data:i,xRange:r})=>{t=t||void 0===t;let[n,s]=e?e(r):r;return i.map(({x:e,y:i,...r})=>{let o=e.map((t,e)=>[t,e]).filter(([e])=>null===e?t:n<=e&&e<=s),a=o.map(([t,e])=>e);return{x:o.map(([t])=>t),y:i.filter((t,e)=>a.includes(e)),...r}})},y=([t,e])=>[t=Math.round(t-.5)+.5,e=Math.round(e+.5)-.5];function b(t,e,i){let r=t.id,n=t.title;if(!n){let t=e.layout.title;if("string"==typeof t)n=t;else if(t?.text)n=t.text;else throw`No title found for plot ${r}`}return{...t,title:n,params:e,data:i}}function m(t,e,i){let r=(0,s.sq)(t.map(t=>[t.id,t]));return(0,s._I)(e,(t,e)=>{let n=r[t];if(n)return b(n,e,i)}).filter(t=>!!t)}function g({id:t,name:e,title:i,subtitle:n,params:s,width:o=800,height:a=450,src:l,margin:u,basePath:c,data:f,filter:p,children:y}){let{data:b,layout:m}=s,{title:g,margin:_,xaxis:v,yaxis:w,template:I,height:S,...T}=m;!f&&(n instanceof Function||y instanceof Function)&&console.warn("`data` missing for subtitle/children functions:",f,n,y);let[E,A]=(0,r.useState)(null),O={...m,...f||{}},B=n instanceof Function?n(O):n,D=y instanceof Function?y(O):y;u={...h,..._,...u},e=e||t,void 0===l&&(l=`plots/${e}.png`);let N={margin:u,xaxis:{...v||{}},yaxis:{automargin:!0,gridcolor:"#ccc",autorange:!0,fixedrange:!0},height:a,autosize:!0,dragmode:"zoom",...T},R=(0,r.useMemo)(()=>p&&E?p({data:b,xRange:E}):b,[E,p]);return r.createElement("div",{id:t,key:t,className:"vw5g3f0"},r.createElement("h2",null,r.createElement("a",{href:`#${t}`},i)),B,r.createElement(d,{params:{...s,data:R,layout:N},src:l,alt:i,width:o,height:a,setXRange:A,basePath:c}),D)}}}]);